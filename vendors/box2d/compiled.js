'use strict';var m=void 0,p=!0,q=null,r=!1;function aa(){return function(){}}function ba(a){return function(){return this[a]}}function ca(a){return function(){return a}}var t,w=this;function da(){}
function ea(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c}function fa(a){return"function"==ea(a)}function ga(a){return a[ha]||(a[ha]=++ia)}var ha="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ia=0;function ja(a,c,b){return a.call.apply(a.bind,arguments)}
function la(a,c,b){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}return function(){return a.apply(c,arguments)}}function ma(a,c,b){ma=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:la;return ma.apply(q,arguments)}var na=Date.now||function(){return+new Date};
function y(a,c){function b(){}b.prototype=c.prototype;a.be=c.prototype;a.prototype=new b};function z(){this.next=this.prev=this.Kb=this.ma=q};function oa(a){this.p=new z;this.r=new z;this.Na=a.type;this.q=this.D=q;this.h=a.V;this.g=a.$;this.sa=a.sa;this.ob=r;this.qb=a.N}t=oa.prototype;t.Cb=ca(q);t.Db=ca(q);t.ac=ba("q");t.Fb=aa();t.hb=ca(r);function pa(a){this.type=0;this.$=this.V=this.N=q;this.sa=a};function qa(a,c){this.x=a!==m?a:0;this.y=c!==m?c:0}qa.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function ra(a,c){for(var b=0,d=(""+a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=(""+c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;0==b&&g<f;g++){var h=d[g]||"",j=e[g]||"",i=/(\d*)(\D*)/g,k=/(\d*)(\D*)/g;do{var l=i.exec(h)||["","",""],n=k.exec(j)||["","",""];if(0==l[0].length&&0==n[0].length)break;b=((0==l[1].length?0:parseInt(l[1],10))<(0==n[1].length?0:parseInt(n[1],10))?-1:(0==l[1].length?0:parseInt(l[1],10))>(0==n[1].length?0:parseInt(n[1],10))?1:
0)||((0==l[2].length)<(0==n[2].length)?-1:(0==l[2].length)>(0==n[2].length)?1:0)||(l[2]<n[2]?-1:l[2]>n[2]?1:0)}while(0==b)}return b};var ua=Array.prototype,va=ua.indexOf?function(a,c,b){return ua.indexOf.call(a,c,b)}:function(a,c,b){b=b==q?0:0>b?Math.max(0,a.length+b):b;if("string"==typeof a)return"string"!=typeof c||1!=c.length?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};function wa(a,c){this.x=a;this.y=c}y(wa,qa);function C(a){return Math.sqrt(a.x*a.x+a.y*a.y)}wa.prototype.scale=function(a){this.x*=a;this.y*=a;return this};wa.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};function xa(a,c){return a.x*c.x+a.y*c.y};function F(a,c){a===m&&(a=0);this.x=a;c===m&&(c=0);this.y=c}y(F,wa);t=F.prototype;t.ka=function(){this.y=this.x=0};t.i=function(a,c){this.x=a;this.y=c};function H(a,c){a.x=c.x;a.y=c.y}t.td=function(){return new F(this.x,this.y)};function ya(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}t.Yb=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};t.vc=function(){return isFinite(this.x)&&isFinite(this.y)};function za(a,c){return new F(a.x+c.x,a.y+c.y)}
function Aa(a,c){return new F(a.x-c.x,a.y-c.y)};function Ba(){pa.call(this,r);this.type=0;this.$=this.V=this.N=q;this.type=1;this.qa=new F(0,0);this.Nc=this.De=this.nf=this.af=0;this.dc=this.Dd=r}y(Ba,pa);function J(){this.type=Ca;this.N=q;this.Qa=new F(0,0);this.Bc=0;this.ec=0.2;this.Ia=this.Ab=0;this.yc=1;this.Mc=65535;this.me=0}J.prototype.Sc=function(a){a.ca=new F(0,0);a.Va=0;a.Eb=0};J.prototype.yc=0;J.prototype.Mc=0;J.prototype.me=0;var Ca=-1;function K(a,c,b){a==q&&(a=0);this.a=new F;this.b=new F;c!=q&&b!=q?(H(this.a,c),H(this.b,b)):(c=Math.cos(a),a=Math.sin(a),this.a.x=c,this.b.x=-a,this.a.y=a,this.b.y=c)}t=K.prototype;t.i=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};t.td=function(){return new K(0,this.a,this.b)};function Da(a,c){H(a.a,c.a);H(a.b,c.b)}function Ea(a,c){a.a.x+=c.a.x;a.a.y+=c.a.y;a.b.x+=c.b.x;a.b.y+=c.b.y}t.ka=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};
function Fa(a,c){var b=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g;g=1/(b*f-d*e);c.a.x=g*f;c.b.x=-g*d;c.a.y=-g*e;c.b.y=g*b}t.wd=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h;h=1/(d*g-e*f);a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};t.Yb=function(){this.a.Yb();this.b.Yb()};function Ga(a,c){this.e=new K;this.c=new F;this.qb=a.N;this.xa=a.ec;this.za=a.Ab;this.z=c;this.ea=65535;this.md=0;this.yc=a.yc;this.Mc=a.Mc;this.jd=a.me}Ga.prototype.Tc=aa();Ga.prototype.ac=ba("q");Ga.prototype.Zb=function(){65535!=this.ea&&(this.z.R.Ra.Zb(this.ea),this.ea=65535)};Ga.prototype.xd=aa();function Ha(){J.call(this);this.type=0;this.rb=1}y(Ha,J);Ha.prototype.Sc=function(a){a.Va=this.Ia*Ia*this.rb*this.rb;a.Eb=0.5*a.Va*this.rb*this.rb};var Ia=Math.PI,Ja=2/180*Ia,Ka=8/180*Ia,La=2/180/1;function L(){this.rc=[];this.N=q;for(var a=0;64>a;a++)this.rc[a]=q;this.position=new F(0,0);this.rotation=0;this.$e=new F(0,0);this.Te=this.Ze=this.Ad=0;this.Se=p;this.lf=this.Ye=r}function N(a,c){for(var b=0;64>b;++b)if(a.rc[b]==q){a.rc[b]=c;break}};function Ma(){J.call(this);this.Bb=Array(8);this.type=2;for(var a=this.sc=0;8>a;a++)this.Bb[a]=new F}y(Ma,J);
Ma.prototype.Sc=function(a){a.ca=new F(0,0);0==this.Ia&&(a.Va=0,a.ca.i(0,0),a.Eb=0);var c=this.Bb,b=this.sc,d=this.Ia,e=new F;e.ka();for(var f=0,g=0,h=new F(0,0),j=1/3,i=0;i<b;++i){var k=h,l=c[i],n=i+1<b?c[i+1]:c[0],o=Aa(l,k),s=Aa(n,k),v=o.x*s.y-o.y*s.x,u=0.5*v,f=f+u,x=new F;H(x,k);x.add(l);x.add(n);x.scale(j*u);e.add(x);l=k.x;k=k.y;n=o.x;o=o.y;u=s.x;s=s.y;g+=v*(j*(0.25*(n*n+u*n+u*u)+(l*n+l*u))+0.5*l*l+(j*(0.25*(o*o+s*o+s*s)+(k*o+k*s))+0.5*k*k))}a.Va=d*f;e.scale(1/f);a.ca=e;g=d*(g-f*xa(e,e));a.Eb=
g};function Na(a){Na.Ue(a);Na.Cd(a,100,100,[[0,0],[10,30],[-10,30]],p);Na.Cd(a,150,150,[[0,0],[10,30],[-10,30]],p);var c=Oa(a,150,100,20,20,r),b=new Ba;b.V=c;b.$=a.ic;b.qa=c.c;Pa(a,b);c=Na.Cd(a,300,200,[[0,0],[100,30],[-100,30]]);b.V=c;b.qa=c.c;Pa(a,b)}Na.Ue=function(a){var c=new Ha;c.rb=50;c.Ab=0.2;var b=new L;N(b,c);b.position.i(350,100);O(a,b)};
Na.Cd=function(a,c,b,d,e){var f=new Ma;e||(f.Ia=1);f.sc=d.length;for(e=0;e<d.length;e++)f.Bb[e].i(d[e][0],d[e][1]);d=new L;N(d,f);d.position.i(c,b);return O(a,d)};function Qa(){J.call(this);this.type=1;this.S=new F(1,1)}y(Qa,J);Qa.prototype.Sc=function(a){a.ca=new F(0,0);0==this.Ia&&(a.Va=0,a.ca.i(0,0),a.Eb=0);a.Va=4*this.Ia*this.S.x*this.S.y;a.ca.i(0,0);a.Eb=a.Va/3*xa(this.S,this.S)};var Ra,Sa,Ta,Ua;function Wa(){return w.navigator?w.navigator.userAgent:q}Ua=Ta=Sa=Ra=r;var Xa;if(Xa=Wa()){var Ya=w.navigator;Ra=0==Xa.indexOf("Opera");Sa=!Ra&&-1!=Xa.indexOf("MSIE");Ta=!Ra&&-1!=Xa.indexOf("WebKit");Ua=!Ra&&!Ta&&"Gecko"==Ya.product}var P=Sa,Za=Ua,$a=Ta,ab;
a:{var bb="",cb;if(Ra&&w.opera)var db=w.opera.version,bb="function"==typeof db?db():db;else if(Za?cb=/rv\:([^\);]+)(\)|;)/:P?cb=/MSIE\s+([^\);]+)(\)|;)/:$a&&(cb=/WebKit\/(\S+)/),cb)var eb=cb.exec(Wa()),bb=eb?eb[1]:"";if(P){var fb,gb=w.document;fb=gb?gb.documentMode:m;if(fb>parseFloat(bb)){ab=""+fb;break a}}ab=bb}var hb={};function ib(a){hb[a]||(hb[a]=0<=ra(ab,a))}var jb={};function kb(){return jb[9]||(jb[9]=P&&document.documentMode&&9<=document.documentMode)};function lb(a){var c=mb,b;for(b in c)a.call(m,c[b],b,c)}var nb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function ob(a,c){for(var b,d,e=1;e<arguments.length;e++){d=arguments[e];for(b in d)a[b]=d[b];for(var f=0;f<nb.length;f++)b=nb[f],Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])}};!P||kb();var pb=!P||kb();P&&ib("8");function qb(){}qb.prototype.le=r;qb.prototype.cc=function(){this.le||(this.le=p,this.ub())};qb.prototype.ub=function(){this.Xe&&rb.apply(q,this.Xe)};function rb(a){for(var c=0,b=arguments.length;c<b;++c){var d=arguments[c],e=ea(d);"array"==e||"object"==e&&"number"==typeof d.length?rb.apply(q,d):d&&"function"==typeof d.cc&&d.cc()}};function Q(a,c){this.type=a;this.currentTarget=this.target=c}y(Q,qb);Q.prototype.ub=function(){delete this.type;delete this.target;delete this.currentTarget};Q.prototype.pc=r;Q.prototype.qd=p;function sb(a){sb[" "](a);return a}sb[" "]=da;function tb(a,c){a&&this.Wc(a,c)}y(tb,Q);t=tb.prototype;t.target=q;t.relatedTarget=q;t.offsetX=0;t.offsetY=0;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.button=0;t.keyCode=0;t.charCode=0;t.ctrlKey=r;t.altKey=r;t.shiftKey=r;t.metaKey=r;
t.Wc=function(a,c){var b=this.type=a.type;Q.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(Za){var e;a:{try{sb(d.nodeName);e=p;break a}catch(f){}e=r}e||(d=q)}}else"mouseover"==b?d=a.fromElement:"mouseout"==b&&(d=a.toElement);this.relatedTarget=d;this.offsetX=a.offsetX!==m?a.offsetX:a.layerX;this.offsetY=a.offsetY!==m?a.offsetY:a.layerY;this.clientX=a.clientX!==m?a.clientX:a.pageX;this.clientY=a.clientY!==m?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==b?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;delete this.qd;delete this.pc};t.ub=function(){tb.be.ub.call(this);this.relatedTarget=this.currentTarget=this.target=q};function ub(){}var vb=0;t=ub.prototype;t.key=0;t.qc=r;t.he=r;t.Wc=function(a,c,b,d,e,f){if(fa(a))this.ne=p;else if(a&&a.handleEvent&&fa(a.handleEvent))this.ne=r;else throw Error("Invalid listener argument");this.Ac=a;this.proxy=c;this.src=b;this.type=d;this.capture=!!e;this.Hd=f;this.he=r;this.key=++vb;this.qc=r};t.handleEvent=function(a){return this.ne?this.Ac.call(this.Hd||this.src,a):this.Ac.handleEvent.call(this.Ac,a)};var wb,xb=(wb="ScriptEngine"in w&&"JScript"==w.ScriptEngine())?w.ScriptEngineMajorVersion()+"."+w.ScriptEngineMinorVersion()+"."+w.ScriptEngineBuildVersion():"0";function R(a,c){this.Be=c;this.Jb=[];if(a>this.Be)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Jb.push(this.ib?this.ib():{})}y(R,qb);R.prototype.ib=q;R.prototype.ke=q;function yb(a){return a.Jb.length?a.Jb.pop():a.ib?a.ib():{}}function zb(a,c){a.Jb.length<a.Be?a.Jb.push(c):Ab(a,c)}function Ab(a,c){if(a.ke)a.ke(c);else{var b=ea(c);if("object"==b||"array"==b||"function"==b)if(fa(c.cc))c.cc();else for(var d in c)delete c[d]}}
R.prototype.ub=function(){R.be.ub.call(this);for(var a=this.Jb;a.length;)Ab(this,a.pop());delete this.Jb};var Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb;
(function(){function a(){return{bb:0,$a:0}}function c(){return[]}function b(){var a=pb?function(b){return g.call(a.src,a.key,b)}:function(b){b=g.call(a.src,a.key,b);if(!b)return b};return a}function d(){return new ub}function e(){return new tb}var f=wb&&!(0<=ra(xb,"5.7")),g;Gb=function(a){g=a};if(f){Bb=function(){return yb(h)};Cb=function(a){zb(h,a)};Db=function(){return yb(j)};Eb=function(a){zb(j,a)};Fb=function(){return yb(i)};Hb=function(){zb(i,b())};Ib=function(){return yb(k)};Jb=function(a){zb(k,
a)};Kb=function(){return yb(l)};Lb=function(a){zb(l,a)};var h=new R(0,600);h.ib=a;var j=new R(0,600);j.ib=c;var i=new R(0,600);i.ib=b;var k=new R(0,600);k.ib=d;var l=new R(0,600);l.ib=e}else Bb=a,Cb=da,Db=c,Eb=da,Fb=b,Hb=da,Ib=d,Jb=da,Kb=e,Lb=da})();var Mb={},S={},mb={},Nb={};
function Ob(a,c,b,d,e){if(c)if("array"==ea(c))for(var f=0;f<c.length;f++)Ob(a,c[f],b,d,e);else{var d=!!d,g=S;c in g||(g[c]=Bb());g=g[c];d in g||(g[d]=Bb(),g.bb++);var g=g[d],h=ga(a),j;g.$a++;if(g[h]){j=g[h];for(f=0;f<j.length;f++)if(g=j[f],g.Ac==b&&g.Hd==e){if(g.qc)break;return}}else j=g[h]=Db(),g.bb++;f=Fb();f.src=a;g=Ib();g.Wc(b,f,a,c,d,e);b=g.key;f.key=b;j.push(g);Mb[b]=g;mb[h]||(mb[h]=Db());mb[h].push(g);a.addEventListener?(a==w||!a.je)&&a.addEventListener(c,f,d):a.attachEvent(c in Nb?Nb[c]:Nb[c]=
"on"+c,f)}else throw Error("Invalid event type");}function Pb(a,c,b,d,e){if("array"==ea(c)){for(var f=0;f<c.length;f++)Pb(a,c[f],b,d,e);return q}d=!!d;a:{f=S;if(c in f&&(f=f[c],d in f&&(f=f[d],a=ga(a),f[a]))){a=f[a];break a}a=q}if(!a)return r;for(f=0;f<a.length;f++)if(a[f].Ac==b&&a[f].capture==d&&a[f].Hd==e)return Qb(a[f].key);return r}
function Qb(a){if(!Mb[a])return r;var c=Mb[a];if(c.qc)return r;var b=c.src,d=c.type,e=c.proxy,f=c.capture;b.removeEventListener?(b==w||!b.je)&&b.removeEventListener(d,e,f):b.detachEvent&&b.detachEvent(d in Nb?Nb[d]:Nb[d]="on"+d,e);b=ga(b);e=S[d][f][b];if(mb[b]){var g=mb[b],h=va(g,c);0<=h&&ua.splice.call(g,h,1);0==g.length&&delete mb[b]}c.qc=p;e.Ee=p;Rb(d,f,b,e);delete Mb[a];return p}
function Rb(a,c,b,d){if(!d.ad&&d.Ee){for(var e=0,f=0;e<d.length;e++)if(d[e].qc){var g=d[e].proxy;g.src=q;Hb(g);Jb(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.Ee=r;0==f&&(Eb(d),delete S[a][c][b],S[a][c].bb--,0==S[a][c].bb&&(Cb(S[a][c]),delete S[a][c],S[a].bb--),0==S[a].bb&&(Cb(S[a]),delete S[a]))}}
function Sb(a){var c,b=0,d=c==q;c=!!c;if(a==q)lb(function(a){for(var e=a.length-1;0<=e;e--){var f=a[e];if(d||c==f.capture)Qb(f.key),b++}});else if(a=ga(a),mb[a])for(var a=mb[a],e=a.length-1;0<=e;e--){var f=a[e];if(d||c==f.capture)Qb(f.key),b++}}function Tb(a,c,b,d,e){var f=1,c=ga(c);if(a[c]){a.$a--;a=a[c];a.ad?a.ad++:a.ad=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];j&&!j.qc&&(f&=Ub(j,e)!==r)}}finally{a.ad--,Rb(b,d,c,a)}}return Boolean(f)}
function Ub(a,c){var b=a.handleEvent(c);a.he&&Qb(a.key);return b}
Gb(function(a,c){if(!Mb[a])return p;var b=Mb[a],d=b.type,e=S;if(!(d in e))return p;var e=e[d],f,g;if(!pb){var h;if(!(h=c))a:{h=["window","event"];for(var j=w;f=h.shift();)if(j[f]!=q)j=j[f];else{h=q;break a}h=j}f=h;h=p in e;j=r in e;if(h){if(0>f.keyCode||f.returnValue!=m)return p;a:{var i=r;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(k){i=p}if(i||f.returnValue==m)f.returnValue=p}}i=Kb();i.Wc(f,this);f=p;try{if(h){for(var l=Db(),n=i.currentTarget;n;n=n.parentNode)l.push(n);g=e[p];g.$a=g.bb;for(var o=
l.length-1;!i.pc&&0<=o&&g.$a;o--)i.currentTarget=l[o],f&=Tb(g,l[o],d,p,i);if(j){g=e[r];g.$a=g.bb;for(o=0;!i.pc&&o<l.length&&g.$a;o++)i.currentTarget=l[o],f&=Tb(g,l[o],d,r,i)}}else f=Ub(b,i)}finally{l&&(l.length=0,Eb(l)),i.cc(),Lb(i)}return f}d=new tb(c,this);try{f=Ub(b,d)}finally{d.cc()}return f});function Vb(){}y(Vb,qb);t=Vb.prototype;t.je=p;t.$d=q;t.addEventListener=function(a,c,b,d){Ob(this,a,c,b,d)};t.removeEventListener=function(a,c,b,d){return Pb(this,a,c,b,d)};
t.dispatchEvent=function(a){var c=a.type||a,b=S;if(c in b){if("string"==typeof a)a=new Q(a,this);else if(a instanceof Q)a.target=a.target||this;else{var d=a,a=new Q(c,this);ob(a,d)}var d=1,e,b=b[c],c=p in b,f;if(c){e=[];for(f=this;f;f=f.$d)e.push(f);f=b[p];f.$a=f.bb;for(var g=e.length-1;!a.pc&&0<=g&&f.$a;g--)a.currentTarget=e[g],d&=Tb(f,e[g],a.type,p,a)&&a.qd!=r}if(r in b)if(f=b[r],f.$a=f.bb,c)for(g=0;!a.pc&&g<e.length&&f.$a;g++)a.currentTarget=e[g],d&=Tb(f,e[g],a.type,r,a)&&a.qd!=r;else for(e=this;!a.pc&&
e&&f.$a;e=e.$d)a.currentTarget=e,d&=Tb(f,e,a.type,r,a)&&a.qd!=r;a=Boolean(d)}else a=p;return a};t.ub=function(){Vb.be.ub.call(this);Sb(this);this.$d=q};var Wb=w.window;function Xb(){pa.call(this,r);this.type=0;this.$=this.V=this.N=q;this.type=2;this.qa=new F(0,0);this.axis=new F(0,0);this.Nc=this.Ce=this.of=this.bf=0;this.dc=this.Dd=r}y(Xb,pa);function Yb(a){var c=a.ic,b=new Qa;b.S.i(5,25);b.Ia=1;var d=new L;N(d,b);var e=new Ba,f=c;d.position.i(250,210);var g=O(a,d);e.qa.i(250,235);e.V=f;e.$=g;e.Nc=-1*Math.PI;e.De=5E8;e.dc=p;Pa(a,e);f=g;b.S.i(5,45);d.position.i(250,140);g=O(a,d);e.qa.i(250,185);e.V=f;e.$=g;e.dc=r;Pa(a,e);f=g;b.S.i(20,20);d.position.i(250,95);g=O(a,d);e.qa.i(250,95);e.V=f;e.$=g;Pa(a,e);e=new Xb;e.qa.i(250,95);e.V=c;e.$=g;e.axis.i(0,1);e.Nc=0;e.Ce=1E5;e.dc=p;Pa(a,e);b.Ia=2;d.position.i(250,10);O(a,d)};function Zb(a){var c;for(c=1;4>=c;c++)Zb.We(a,40*c);for(c=1;4>=c;c++)Zb.Ve(a,45*c)}Zb.Ve=function(a,c){var b=350+3*Math.random(),d=new Ha;d.Ia=1;d.rb=20;d.Ab=0.2;d.Qa.i(-20,0);var e=new Ha;e.Ia=1;e.rb=20;e.Ab=0.2;e.Qa.i(20,0);var f=new L;N(f,d);N(f,e);f.position.i(b,c);O(a,f)};
Zb.We=function(a,c){var b=150+3*Math.random(),d=[[-30,0],[30,0],[0,15]],e=new Ma;e.sc=d.length;var f;for(f=0;f<d.length;f++)e.Bb[f].i(d[f][0],d[f][1]);e.Bc=0.3524*Math.PI;var g=new K(e.Bc);e.Qa=T(g,new F(30,0));e.Ia=1;g=new Ma;g.sc=d.length;for(f=0;f<d.length;f++)g.Bb[f].i(d[f][0],d[f][1]);g.Bc=-0.3524*Math.PI;d=new K(g.Bc);g.Qa=T(d,new F(-30,0));d=new L;N(d,e);N(d,g);d.position.i(b,c);O(a,d)};function $b(){this.Va=this.Eb=0;this.ca=new F(0,0)};function ac(){this.Ca=new K;this.ca=new F;this.S=new F};function bc(){this.A=new F;this.H=new F}bc.prototype.vc=function(){var a=this.H.x,c=this.H.y,a=this.H.x,c=this.H.y,a=a-this.A.x,c=c-this.A.y;return a=0<=a&&0<=c&&this.A.vc()&&this.H.vc()};function cc(a,c,b){Ga.call(this,a,c);this.Ga=new bc;this.ja=new K;this.ya=new F;this.t=new ac;var d=0,e,c=new bc;this.u=Array(8);this.Pb=Array(8);this.Za=Array(8);this.Na=2;var f=new K(a.Bc);if(a instanceof Qa){this.ya.x=a.Qa.x-b.x;this.ya.y=a.Qa.y-b.y;this.Oa=4;b=a.S.x;e=a.S.y;var d=Math.max(0,b-0.3),g=Math.max(0,e-0.3),a=this.u[0]=new F;a.x=f.a.x*b+f.b.x*e;a.y=f.a.y*b+f.b.y*e;a=this.u[1]=new F;a.x=f.a.x*-b+f.b.x*e;a.y=f.a.y*-b+f.b.y*e;a=this.u[2]=new F;a.x=f.a.x*-b+f.b.x*-e;a.y=f.a.y*-b+f.b.y*-e;
a=this.u[3]=new F;a.x=f.a.x*b+f.b.x*-e;a.y=f.a.y*b+f.b.y*-e;a=this.Pb[0]=new F;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.Pb[1]=new F;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.Pb[2]=new F;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.Pb[3]=new F;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.Oa=a.sc;d=a.Bb;e=a.sc;for(var g=dc,h=0,j=0,i=0,k=1/3,l=0;l<e;++l)var n=d[l].x,o=d[l].y,s=l+1<e?d[l+1].x:d[0].x,v=l+1<e?d[l+1].y:d[0].y,u=0.5*((n-0)*(v-0)-(o-0)*(s-0)),i=i+u,h=h+u*k*(0+n+s),
j=j+u*k*(0+o+v);g.i(h*(1/i),j*(1/i));g=dc.x;h=dc.y;this.ya.x=a.Qa.x+(f.a.x*g+f.b.x*h)-b.x;this.ya.y=a.Qa.y+(f.a.y*g+f.b.y*h)-b.y;for(d=0;d<this.Oa;++d)this.u[d]=new F,this.Pb[d]=new F,b=a.Bb[d].x-g,e=a.Bb[d].y-h,this.u[d].x=f.a.x*b+f.b.x*e,this.u[d].y=f.a.y*b+f.b.y*e,b=this.u[d].x,e=this.u[d].y,j=Math.sqrt(b*b+e*e),j>Number.MIN_VALUE&&(b*=1/j,e*=1/j),this.Pb[d].x=this.u[d].x-0.3*b,this.Pb[d].y=this.u[d].y-0.3*e}a=f=Number.MAX_VALUE;b=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.md=0;d<this.Oa;++d)g=
this.u[d],f=Math.min(f,g.x),a=Math.min(a,g.y),b=Math.max(b,g.x),e=Math.max(e,g.y),this.md=Math.max(this.md,C(g));d=this.t.Ca;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.t.ca.i(0.5*(f+b),0.5*(a+e));this.t.S.i(0.5*(b-f),0.5*(e-a));for(d=a=f=0;d<this.Oa;++d)this.Za[d]=new F,f=d,a=d+1<this.Oa?d+1:0,this.Za[d].x=this.u[a].y-this.u[f].y,this.Za[d].y=-(this.u[a].x-this.u[f].x),f=this.Za[d],a=C(f),a<Number.MIN_VALUE||(a=1/a,f.x*=a,f.y*=a);for(d=0;d<this.Oa;++d);Da(this.e,this.z.e);this.c.x=this.z.c.x+(this.e.a.x*
this.ya.x+this.e.b.x*this.ya.y);this.c.y=this.z.c.y+(this.e.a.y*this.ya.x+this.e.b.y*this.ya.y);ec.a.x=this.e.a.x*this.t.Ca.a.x+this.e.b.x*this.t.Ca.a.y;ec.a.y=this.e.a.y*this.t.Ca.a.x+this.e.b.y*this.t.Ca.a.y;ec.b.x=this.e.a.x*this.t.Ca.b.x+this.e.b.x*this.t.Ca.b.y;ec.b.y=this.e.a.y*this.t.Ca.b.x+this.e.b.y*this.t.Ca.b.y;ec.Yb();b=ec.a.x*this.t.S.x+ec.b.x*this.t.S.y;e=ec.a.y*this.t.S.x+ec.b.y*this.t.S.y;f=this.c.x+(this.e.a.x*this.t.ca.x+this.e.b.x*this.t.ca.y);a=this.c.y+(this.e.a.y*this.t.ca.x+
this.e.b.y*this.t.ca.y);c.A.x=f-b;c.A.y=a-e;c.H.x=f+b;c.H.y=a+e;f=this.z.R.Ra;this.ea=fc(f,c)?gc(f,c,this):65535;65535==this.ea&&hc(this.z)}y(cc,Ga);cc.prototype.Ga=new bc;cc.prototype.ja=new K;
cc.prototype.xd=function(a,c,b,d){Da(this.e,d);this.c.x=this.z.c.x+(d.a.x*this.ya.x+d.b.x*this.ya.y);this.c.y=this.z.c.y+(d.a.y*this.ya.x+d.b.y*this.ya.y);if(65535!=this.ea){var e,f;e=c.a;f=c.b;var g=this.t.Ca.a,h=this.t.Ca.b;this.ja.a.x=e.x*g.x+f.x*g.y;this.ja.a.y=e.y*g.x+f.y*g.y;this.ja.b.x=e.x*h.x+f.x*h.y;this.ja.b.y=e.y*h.x+f.y*h.y;this.ja.Yb();e=this.ya.x+this.t.ca.x;f=this.ya.y+this.t.ca.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.ja.a.x*this.t.S.x+this.ja.b.x*this.t.S.y;f=this.ja.a.y*
this.t.S.x+this.ja.b.y*this.t.S.y;this.Ga.A.x=g-e;this.Ga.A.y=a-f;this.Ga.H.x=g+e;this.Ga.H.y=a+f;e=d.a;f=d.b;g=this.t.Ca.a;h=this.t.Ca.b;this.ja.a.x=e.x*g.x+f.x*g.y;this.ja.a.y=e.y*g.x+f.y*g.y;this.ja.b.x=e.x*h.x+f.x*h.y;this.ja.b.y=e.y*h.x+f.y*h.y;this.ja.Yb();e=this.ya.x+this.t.ca.x;f=this.ya.y+this.t.ca.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.ja.a.x*this.t.S.x+this.ja.b.x*this.t.S.y;f=this.ja.a.y*this.t.S.x+this.ja.b.y*this.t.S.y;this.Ga.A.x=Math.min(this.Ga.A.x,g-e);this.Ga.A.y=
Math.min(this.Ga.A.y,a-f);this.Ga.H.x=Math.max(this.Ga.H.x,g+e);this.Ga.H.y=Math.max(this.Ga.H.y,a+f);b=this.z.R.Ra;fc(b,this.Ga)?ic(b,this.ea,this.Ga):hc(this.z)}};
cc.prototype.Tc=function(a){if(65535!=this.ea){a.Zb(this.ea);var c=new K(0,T(this.e,this.t.Ca.a),T(this.e,this.t.Ca.b)),c=new K(0,new F(Math.abs(c.a.x),Math.abs(c.a.y)),new F(Math.abs(c.b.x),Math.abs(c.b.y))),c=T(c,this.t.S),b=T(this.e,this.t.ca);b.add(this.c);var d=new bc;H(d.A,b);var e=d.A;e.x-=c.x;e.y-=c.y;H(d.H,b);d.H.add(c);this.ea=fc(a,d)?gc(a,d,this):65535;65535==this.ea&&hc(this.z)}};var dc=new F,ec=new K;function jc(a,c,b){Ga.call(this,a,c);this.Sa=new F;this.Sa.i(a.Qa.x-b.x,a.Qa.y-b.y);this.Na=a.type;this.ga=a.rb;Da(this.e,this.z.e);a=this.e.a.x*this.Sa.x+this.e.b.x*this.Sa.y;c=this.e.a.y*this.Sa.x+this.e.b.y*this.Sa.y;this.c.x=this.z.c.x+a;this.c.y=this.z.c.y+c;this.md=Math.sqrt(a*a+c*c)+this.ga;a=new bc;a.A.i(this.c.x-this.ga,this.c.y-this.ga);a.H.i(this.c.x+this.ga,this.c.y+this.ga);c=this.z.R.Ra;this.ea=fc(c,a)?gc(c,a,this):65535;65535==this.ea&&hc(this.z)}y(jc,Ga);
jc.prototype.xd=function(a,c,b,d){Da(this.e,d);this.c.x=d.a.x*this.Sa.x+d.b.x*this.Sa.y+b.x;this.c.y=d.a.y*this.Sa.x+d.b.y*this.Sa.y+b.y;if(65535!=this.ea){var b=a.x+(c.a.x*this.Sa.x+c.b.x*this.Sa.y),d=a.y+(c.a.y*this.Sa.x+c.b.y*this.Sa.y),a=Math.min(b,this.c.x),c=Math.min(d,this.c.y),b=Math.max(b,this.c.x),e=Math.max(d,this.c.y),d=new bc;d.A.i(a-this.ga,c-this.ga);d.H.i(b+this.ga,e+this.ga);a=this.z.R.Ra;fc(a,d)?ic(a,this.ea,d):hc(this.z)}};
jc.prototype.Tc=function(a){if(65535!=this.ea){a.Zb(this.ea);var c=new bc;c.A.i(this.c.x-this.ga,this.c.y-this.ga);c.H.i(this.c.x+this.ga,this.c.y+this.ga);this.ea=fc(a,c)?gc(a,c,this):65535;65535==this.ea&&hc(this.z)}};function T(a,c){return new F(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function U(a,c,b){return Math.max(c,Math.min(a,b))};function kc(a,c){this.Fe=new K;this.c=new F;H(this.c,a.position);this.Wd=new F;H(this.Wd,this.c);var b=0,d,e;this.o=0;this.m=a.rotation;this.e=new K(0);this.e.i(this.m);this.ye=this.m;this.R=c;this.kf=U(1-a.Ze,0,1);this.df=U(1-a.Te,0,1);this.Fc=new F(0,0);this.Da=this.ze=0;for(var f=Array(64),b=0;64>b;b++)f[b]=new $b;this.Wb=0;this.cb=new F(0,0);for(b=0;64>b;++b){d=a.rc[b];if(d==q)break;e=f[b];d.Sc(e);this.Da+=e.Va;this.cb.x+=e.Va*(d.Qa.x+e.ca.x);this.cb.y+=e.Va*(d.Qa.y+e.ca.y);++this.Wb}0<this.Da?
(this.cb.scale(1/this.Da),this.c.add(T(this.e,this.cb))):this.o|=lc;for(b=this.Lb=0;b<this.Wb;++b)d=a.rc[b],e=f[b],this.Lb+=e.Eb,d=Aa(za(d.Qa,e.ca),this.cb),this.Lb+=e.Va*xa(d,d);this.j=0<this.Da?1/this.Da:0;this.n=0<this.Lb&&a.lf==r?1/this.Lb:this.Lb=0;this.d=za(a.$e,new F(-a.Ad*this.cb.y,a.Ad*this.cb.x));this.f=a.Ad;this.zb=this.q=this.D=this.W=this.X=q;for(b=0;b<this.Wb;++b){d=a.rc[b];e=d;f=this.cb;if(e instanceof Ha)e=new jc(e,this,f);else if(e instanceof Qa)e=new cc(e,this,f);else if(e instanceof
Ma)e=new cc(e,this,f);else throw"unsupported ShapeDef";e.q=this.zb;this.zb=e}this.nc=0;a.Se&&(this.o|=mc);a.Ye&&(this.o|=Y);if(this.o&Y||0==this.j)this.d.i(0,0),this.f=0;this.qb=a.N}function nc(a){a.o&=~Y;a.nc=0}kc.prototype.ac=ba("q");function hc(a){a.o|=oc;a.d.ka();a.f=0;for(a=a.zb;a!=q;a=a.q)a.Zb()}var lc=1,oc=2,Y=8,mc=16;function pc(){this.ae=this.Bd=q};function Z(){this.next=this.prev=this.ra=this.ma=q};function qc(a,c){this.p=new Z;this.r=new Z;this.o=0;!a||!c?this.Q=this.P=q:(this.P=a,this.Q=c,this.Ka=0,this.xa=Math.sqrt(this.P.xa*this.Q.xa),this.za=Math.max(this.P.za,this.Q.za),this.q=this.D=q,this.p.ra=q,this.p.prev=q,this.p.next=q,this.p.ma=q,this.r.ra=q,this.r.prev=q,this.r.next=q,this.r.ma=q)}qc.prototype.$b=ca(q);qc.prototype.ac=ba("q");qc.prototype.uc=aa();function rc(){};function sc(){this.Gb=0;this.T=new rc}sc.prototype.i=function(a){tc(this,a.Gb)};sc.prototype.td=function(){var a=new sc;tc(a,this.Gb);return a};function tc(a,c){a.Gb=c;a.T.tf=a.Gb&255;a.T.rf=(a.Gb&65280)>>8&255;a.T.sf=(a.Gb&16711680)>>16&255;a.T.qf=(a.Gb&4278190080)>>24&255};function uc(){this.position=new F;this.id=new sc;this.na=this.ia=this.ab=q};function vc(){this.O=0;this.Z=Array(2);for(var a=0;2>a;a++)this.Z[a]=new uc;this.B=new F};function wc(a,c){this.p=new Z;this.r=new Z;this.o=0;!a||!c?this.Q=this.P=q:(this.P=a,this.Q=c,this.Ka=0,this.xa=Math.sqrt(this.P.xa*this.Q.xa),this.za=Math.max(this.P.za,this.Q.za),this.q=this.D=q,this.p.ra=q,this.p.prev=q,this.p.next=q,this.p.ma=q,this.r.ra=q,this.r.prev=q,this.r.next=q,this.r.ma=q,this.cd=new vc,this.ua=[new vc],this.ua[0].O=0)}y(wc,qc);
wc.prototype.uc=function(){for(var a=this.ua[0],c=this.cd.Z,b=0;b<a.O;b++){var d=c[b],e=a.Z[b];d.ia=e.ia;d.na=e.na;d.id=e.id.td()}this.cd.O=a.O;var b=this.P,f=this.Q;a.O=0;var g,c=[0],d=xc(c,b,f);g=c[0];if(!(0<d)){var h,c=[0],j=xc(c,f,b);h=c[0];if(!(0<j)){c=e=0;j>0.98*d+0.0010?(d=f,j=b,e=h,c=1):(d=b,j=f,e=g,c=0);b=[new yc,new yc];f=e;g=j;var i=d.u,j=g.Oa;h=g.u;for(var k=i[f+1==d.Oa?0:f+1],l=k.x,n=k.y,k=i[f],l=l-k.x,n=n-k.y,k=l,l=n,n=-k,k=1/Math.sqrt(l*l+n*n),n=n*k,k=l*k,i=d.e,l=i.a.x*k+i.b.x*n,n=
i.a.y*k+i.b.y*n,i=g.e,k=l*i.a.x+n*i.a.y,n=l*i.b.x+n*i.b.y,l=k,o=i=0,s=Number.MAX_VALUE,v=0;v<j;++v){var u=v,x=v+1<j?v+1:0,k=h[x],A=k.x,B=k.y,k=h[u],A=A-k.x,B=B-k.y,k=A,A=B,B=-k,k=1/Math.sqrt(A*A+B*B),A=A*k,B=B*k,k=A*l+B*n;k<s&&(s=k,i=u,o=x)}j=b[0];k=j.sb;H(k,h[i]);ya(k,g.e);k.add(g.c);j.id.T.pd=f;j.id.T.zc=i;j.id.T.fc=i;j=b[1];k=j.sb;H(k,h[o]);ya(k,g.e);k.add(g.c);j.id.T.pd=f;j.id.T.zc=i;j.id.T.fc=o;f=d.u;k=f[e];l=e+1<d.Oa?f[e+1]:f[0];g=l.x-k.x;h=l.y-k.y;n=g;i=d.e;g=i.a.x*n+i.b.x*h;h=i.a.y*n+i.b.y*
h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;n=g;e=h;f=-n;j=k.x;o=k.y;n=j;i=d.e;j=i.a.x*n+i.b.x*o;o=i.a.y*n+i.b.y*o;j+=d.c.x;o+=d.c.y;k=l.x;l=l.y;n=k;i=d.e;k=i.a.x*n+i.b.x*l;l=i.a.y*n+i.b.y*l;k+=d.c.x;l+=d.c.y;d=e*j+f*o;n=-(g*j+h*o);k=g*k+h*l;l=[new yc,new yc];j=[new yc,new yc];i=0;zc.i(-g,-h);i=Ac(l,b,n);if(!(2>i)&&(zc.i(g,h),i=Ac(j,l,k),!(2>i))){c?a.B.i(-e,-f):a.B.i(e,f);for(g=b=0;2>g;++g)h=j[g].sb,h=e*h.x+f*h.y-d,0>=h&&(k=a.Z[b],k.ab=h,H(k.position,j[g].sb),k.id.i(j[g].id),k.id.T.Ed=c,++b);a.O=b}}}if(0<
a.O){c=[r,r];for(b=0;b<a.O;++b){d=a.Z[b];d.ia=0;d.na=0;e=d.id.key;for(f=0;f<this.cd.O;++f)if(c[f]!=p&&(g=this.cd.Z[f],g.id.key==e)){c[f]=p;d.ia=g.ia;d.na=g.na;break}}this.Ka=1}else this.Ka=0};wc.prototype.$b=ba("ua");function Bc(a,c){return new wc(a,c)};function Cc(a,c){this.p=new Z;this.r=new Z;this.o=0;!a||!c?this.Q=this.P=q:(this.P=a,this.Q=c,this.Ka=0,this.xa=Math.sqrt(this.P.xa*this.Q.xa),this.za=Math.max(this.P.za,this.Q.za),this.q=this.D=q,this.p.ra=q,this.p.prev=q,this.p.next=q,this.p.ma=q,this.r.ra=q,this.r.prev=q,this.r.next=q,this.r.ma=q,this.ua=[new vc],this.ua[0].O=0,this.ua[0].Z[0].ia=0,this.ua[0].Z[0].na=0)}y(Cc,qc);
Cc.prototype.uc=function(){a:{var a=this.ua[0],c=this.P,b=this.Q;a.O=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.e,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var j=0,i=-Number.MAX_VALUE,h=b.ga;for(d=0;d<c.Oa;++d){var k=c.Za[d].x*(e-c.u[d].x)+c.Za[d].y*(f-c.u[d].y);if(k>h)break a;k>i&&(i=k,j=d)}if(i<Number.MIN_VALUE)a.O=1,f=c.Za[j],a.B.x=g.a.x*f.x+g.b.x*f.y,a.B.y=g.a.y*f.x+g.b.y*f.y,d=a.Z[0],d.id.T.zc=j,d.id.T.fc=255,d.id.T.pd=255,d.id.T.Ed=0,d.position.x=b.c.x-h*a.B.x,d.position.y=b.c.y-h*a.B.y,
d.ab=i-h;else{var i=j+1<c.Oa?j+1:0,l=c.u[i].x-c.u[j].x,k=c.u[i].y-c.u[j].y,n=Math.sqrt(l*l+k*k),l=l/n,k=k/n;if(n<Number.MIN_VALUE)e-=c.u[j].x,f-=c.u[j].y,c=Math.sqrt(e*e+f*f),e/=c,f/=c,c>h||(a.O=1,a.B.i(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d=a.Z[0],d.id.T.zc=255,d.id.T.fc=j,d.id.T.pd=255,d.id.T.Ed=0,d.position.x=b.c.x-h*a.B.x,d.position.y=b.c.y-h*a.B.y,d.ab=c-h);else{var o=(e-c.u[j].x)*l+(f-c.u[j].y)*k;d=a.Z[0];d.id.T.zc=255;d.id.T.fc=255;d.id.T.pd=255;d.id.T.Ed=0;0>=o?(l=c.u[j].x,c=c.u[j].y,d.id.T.fc=
j):o>=n?(l=c.u[i].x,c=c.u[i].y,d.id.T.fc=i):(l=l*o+c.u[j].x,c=k*o+c.u[j].y,d.id.T.zc=j);e-=l;f-=c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;c>h||(a.O=1,a.B.i(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d.position.x=b.c.x-h*a.B.x,d.position.y=b.c.y-h*a.B.y,d.ab=c-h)}}}this.Ka=0<this.ua[0].O?1:0};Cc.prototype.$b=ba("ua");function Dc(a,c){return new Cc(a,c)};function yc(){this.sb=new F;this.id=new sc};function Ac(a,c,b){var d=zc,e=0,f=c[0].sb,g=c[1].sb,h=xa(d,c[0].sb)-b,b=xa(d,c[1].sb)-b;0>=h&&(a[e++]=c[0]);0>=b&&(a[e++]=c[1]);0>h*b&&(b=h/(h-b),d=a[e].sb,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=0<h?c[0].id:c[1].id,++e);return e}
function Ec(a,c,b){for(var d=a.u,e=b.Oa,f=b.u,g=a.Za[c].x,h=a.Za[c].y,j=g,i=a.e,g=i.a.x*j+i.b.x*h,h=i.a.y*j+i.b.y*h,k=g,l=h,i=b.e,j=k*i.a.x+l*i.a.y,l=k*i.b.x+l*i.b.y,k=j,j=0,i=Number.MAX_VALUE,n=0;n<e;++n){var o=f[n],o=o.x*k+o.y*l;o<i&&(i=o,j=n)}i=a.e;e=a.c.x+(i.a.x*d[c].x+i.b.x*d[c].y);a=a.c.y+(i.a.y*d[c].x+i.b.y*d[c].y);i=b.e;c=b.c.x+(i.a.x*f[j].x+i.b.x*f[j].y);b=b.c.y+(i.a.y*f[j].x+i.b.y*f[j].y);return(c-e)*g+(b-a)*h}
function xc(a,c,b){for(var d=c.Oa,e=b.c.x-c.c.x,f=b.c.y-c.c.y,g=e*c.e.a.x+f*c.e.a.y,f=e*c.e.b.x+f*c.e.b.y,e=0,h=-Number.MAX_VALUE,j=0;j<d;++j){var i=c.Za[j].x*g+c.Za[j].y*f;i>h&&(h=i,e=j)}g=Ec(c,e,b);if(0<g)return g;j=0<=e-1?e-1:d-1;i=Ec(c,j,b);if(0<i)return i;var k=e+1<d?e+1:0,l=Ec(c,k,b);if(0<l)return l;h=f=0;if(i>g&&i>l)h=-1,f=j,j=i;else if(l>g)h=1,f=k,j=l;else return a[0]=e,g;for(;;){e=-1==h?0<=f-1?f-1:d-1:f+1<d?f+1:0;g=Ec(c,e,b);if(0<g)return g;if(g>j)f=e,j=g;else break}a[0]=f;return j}
var zc=new F;function Fc(a,c){this.p=new Z;this.r=new Z;this.o=0;!a||!c?this.Q=this.P=q:(this.P=a,this.Q=c,this.Ka=0,this.xa=Math.sqrt(this.P.xa*this.Q.xa),this.za=Math.max(this.P.za,this.Q.za),this.q=this.D=q,this.p.ra=q,this.p.prev=q,this.p.next=q,this.p.ma=q,this.r.ra=q,this.r.prev=q,this.r.next=q,this.r.ma=q,this.ua=[new vc],this.ua[0].O=0,this.ua[0].Z[0].ia=0,this.ua[0].Z[0].na=0)}y(Fc,qc);
Fc.prototype.uc=function(){var a=this.ua[0],c=this.P,b=this.Q;a.O=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e,c=c.ga+b.ga;if(!(f>c*c)){if(f<Number.MIN_VALUE)f=-c,a.B.i(0,1);else{var g=Math.sqrt(f),f=g-c,c=1/g;a.B.x=c*d;a.B.y=c*e}a.O=1;d=a.Z[0];tc(d.id,0);d.ab=f;d.position.x=b.c.x-b.ga*a.B.x;d.position.y=b.c.y-b.ga*a.B.y}this.Ka=0<this.ua[0].O?1:0};Fc.prototype.$b=ba("ua");function Gc(a,c){return new Fc(a,c)};function Hc(a,c,b){Ic[c][b].Bd=a;Ic[c][b].ae=p;c!=b&&(Ic[b][c].Bd=a,Ic[b][c].ae=r)}var Ic=q,Jc=r;function Kc(a,c){this.p=new Z;this.r=new Z;this.o=0;!a||!c?this.Q=this.P=q:(this.P=a,this.Q=c,this.Ka=0,this.xa=Math.sqrt(this.P.xa*this.Q.xa),this.za=Math.max(this.P.za,this.Q.za),this.q=this.D=q,this.p.ra=q,this.p.prev=q,this.p.next=q,this.p.ma=q,this.r.ra=q,this.r.prev=q,this.r.next=q,this.r.ma=q)}y(Kc,qc);Kc.prototype.uc=aa();Kc.prototype.$b=ca(q);function Lc(){}Lc.prototype.ee=ca(q);Lc.prototype.fe=aa();function Mc(a){this.Vd=new Kc;this.R=a;this.Od=r}y(Mc,Lc);
Mc.prototype.ee=function(a,c){var b=a,d=c,e=b.z,f=d.z,g;if(!(g=(e.o&lc)==lc&&(f.o&lc)==lc||b.z==d.z))a:{for(g=f.X;g!=q;g=g.next)if(g.ma==e){g=g.Kb.sa==r;break a}g=r}if(g||(b.jd==d.jd&&0!=b.jd?0<b.jd:0!=(b.Mc&d.yc)&&0!=(b.yc&d.Mc))==r)return this.Vd;0==f.j&&(e=b,b=d,d=e);if(Jc==r){Ic=Array(4);for(e=0;4>e;e++){Ic[e]=Array(4);for(f=0;4>f;f++)Ic[e][f]=new pc}Hc(Gc,0,0);Hc(Dc,2,0);Hc(Bc,2,2);Jc=p}e=b.Na;f=d.Na;if(g=Ic[e][f].Bd)if(Ic[e][f].ae)d=g(b,d);else{d=g(d,b);for(b=0;b<d.Ka;++b)e=d.$b()[b],e.B=new F(-e.B.x,
-e.B.y)}else d=q;if(d==q)return this.Vd;d.D=q;d.q=this.R.W;this.R.W!=q&&(this.R.W.D=d);this.R.W=d;this.R.Nb++;return d};Mc.prototype.fe=function(a,c,b){b!=q&&b!=this.Vd&&(this.Od==p?Nc(this,b):b.o|=2)};
function Nc(a,c){c.D&&(c.D.q=c.q);c.q&&(c.q.D=c.D);c==a.R.W&&(a.R.W=c.q);if(0<c.Ka){var b=c.P.z,d=c.Q.z,e=c.p,f=c.r;nc(b);nc(d);e.prev&&(e.prev.next=e.next);e.next&&(e.next.prev=e.prev);e==b.W&&(b.W=e.next);e.prev=q;e.next=q;f.prev&&(f.prev.next=f.next);f.next&&(f.next.prev=f.prev);f==d.W&&(d.W=f.next);f.prev=q;f.next=q}--a.R.Nb};function Oc(){this.Zc=new F;this.$c=new F;this.Qc=this.ab=this.Ge=this.Zd=this.Oc=this.na=this.ia=q};function Pc(){this.Ab=this.ec=this.$=this.V=this.Ae=q;this.O=0;this.B=new F;this.Z=Array(2);for(var a=0;2>a;a++)this.Z[a]=new Oc};function Qc(a,c){this.gc=[];for(var b=0,d,e,b=this.Mb=0;b<c;++b)this.Mb+=a[b].Ka;for(b=0;b<this.Mb;b++)this.gc[b]=new Pc;for(var f=0,b=0;b<c;++b)for(var g=a[b],h=g.P.z,j=g.Q.z,i=g.Ka,k=g.$b(),l=g.xa,g=g.za,n=h.d.x,o=h.d.y,s=j.d.x,v=j.d.y,u=h.f,x=j.f,A=0;A<i;++A){var B=k[A],D=B.B.x,M=B.B.y,G=this.gc[f];G.V=h;G.$=j;G.Ae=B;G.B.x=D;G.B.y=M;G.O=B.O;G.ec=l;G.Ab=g;for(var V=0;V<G.O;++V){var E=B.Z[V],I=G.Z[V];I.ia=E.ia;I.na=E.na;I.ab=E.ab;var W=E.position.x-h.c.x,sa=E.position.y-h.c.y,ta=E.position.x-j.c.x,
E=E.position.y-j.c.y;d=I.Zc;e=h.e;d.x=W*e.a.x+sa*e.a.y;d.y=W*e.b.x+sa*e.b.y;d=I.$c;e=j.e;d.x=ta*e.a.x+E*e.a.y;d.y=ta*e.b.x+E*e.b.y;d=W*W+sa*sa;e=ta*ta+E*E;var Va=W*D+sa*M,ka=ta*D+E*M,X=h.j+j.j,X=X+(h.n*(d-Va*Va)+j.n*(e-ka*ka));I.Zd=1/X;ka=M;X=-D;Va=W*ka+sa*X;ka=ta*ka+E*X;X=h.j+j.j;X+=h.n*(d-Va*Va)+j.n*(e-ka*ka);I.Ge=1/X;I.Qc=0;0<I.ab&&(I.Qc=-60*I.ab);W=G.B.x*(s+-x*E-n- -u*sa)+G.B.y*(v+x*ta-o-u*W);-30>W&&(I.Qc+=-G.Ab*W)}++f}}
Qc.prototype={Oe:function(){for(var a,c,b=0;b<this.Mb;++b){var d=this.gc[b],e=d.V,f=d.$,g=e.j,h=e.n,j=f.j,i=f.n,k=d.B.x,l=d.B.y,n=l,o=-k,s=0,v=0;if(Rc){v=d.O;for(s=0;s<v;++s){var u=d.Z[s],x=u.ia*k+u.na*n,A=u.ia*l+u.na*o;c=e.e;a=u.Zc;var B=c.a.x*a.x+c.b.x*a.y,D=c.a.y*a.x+c.b.y*a.y;c=f.e;a=u.$c;var M=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.f-=h*(B*A-D*x);e.d.x-=g*x;e.d.y-=g*A;f.f+=i*(M*A-a*x);f.d.x+=j*x;f.d.y+=j*A;u.Oc=0}}else{v=d.O;for(s=0;s<v;++s)e=d.Z[s],e.ia=0,e.na=0,e.Oc=0}}},tb:function(){for(var a=
0,c,b,d,e,f,g,h,j,i=0;i<this.Mb;++i){for(var k=this.gc[i],l=k.V,n=k.$,o=l.f,s=l.d,v=n.f,u=n.d,x=l.j,A=l.n,B=n.j,D=n.n,M=k.B.x,G=k.B.y,V=G,E=-M,I=k.O,a=0;a<I;++a)c=k.Z[a],f=l.e,g=c.Zc,b=f.a.x*g.x+f.b.x*g.y,d=f.a.y*g.x+f.b.y*g.y,f=n.e,g=c.$c,e=f.a.x*g.x+f.b.x*g.y,f=f.a.y*g.x+f.b.y*g.y,g=u.x+-v*f-s.x- -o*d,h=u.y+v*e-s.y-o*b,g=-c.Zd*(g*M+h*G-c.Qc),h=Math.max(c.ia+g,0),g=h-c.ia,j=g*M,g*=G,s.x-=x*j,s.y-=x*g,o-=A*(b*g-d*j),u.x+=B*j,u.y+=B*g,v+=D*(e*g-f*j),c.ia=h,g=u.x+-v*f-s.x- -o*d,h=u.y+v*e-s.y-o*b,g=
c.Ge*-(g*V+h*E),h=k.ec*c.ia,h=U(c.na+g,-h,h),g=h-c.na,j=g*V,g*=E,s.x-=x*j,s.y-=x*g,o-=A*(b*g-d*j),u.x+=B*j,u.y+=B*g,v+=D*(e*g-f*j),c.na=h;l.f=o;n.f=v}},hb:function(a){for(var c=0,b,d,e=0;e<this.Mb;++e){for(var f=this.gc[e],g=f.V,h=f.$,j=g.c,i=g.m,k=h.c,l=h.m,n=g.j,o=g.n,s=h.j,v=h.n,u=f.B.x,x=f.B.y,A=f.O,B=0;B<A;++B){var D=f.Z[B];b=g.e;d=D.Zc;var M=b.a.x*d.x+b.b.x*d.y,G=b.a.y*d.x+b.b.y*d.y;b=h.e;d=D.$c;var V=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(k.x+V-(j.x+M))*u+(k.y+b-(j.y+G))*x+D.ab;c=Math.min(c,
d);d=a*U(d+0.15,-6,0);d*=-D.Zd;var E=D.Oc;D.Oc=Math.max(E+d,0);d=D.Oc-E;D=d*u;d*=x;j.x-=n*D;j.y-=n*d;i-=o*(M*d-G*D);g.e.i(i);k.x+=s*D;k.y+=s*d;l+=v*(V*d-b*D);h.e.i(l)}g.m=i;h.m=l}return-0.15<=c},Ne:function(){for(var a=0;a<this.Mb;++a)for(var c=this.gc[a],b=c.Ae,d=0;d<c.O;++d){var e=b.Z[d],f=c.Z[d];e.ia=f.ia;e.na=f.na}}};function Sc(a,c,b){var d=0;this.eb=this.Nb=this.Ja=0;this.jb=Array(a);for(d=0;d<a;d++)this.jb[d]=q;this.Nd=Array(c);for(d=0;d<c;d++)this.Nd[d]=q;this.Gc=Array(b);for(d=0;d<b;d++)this.Gc[d]=q}
Sc.prototype.wd=function(a,c){for(var b=0,d,b=0;b<this.Ja;++b)d=this.jb[b],0!=d.j&&(d.d.add(new F(a.Pa*za(c,new F(d.j*d.Fc.x,d.j*d.Fc.y)).x,a.Pa*za(c,new F(d.j*d.Fc.x,d.j*d.Fc.y)).y)),d.f+=a.Pa*d.n*d.ze,d.d.scale(d.kf),d.f*=d.df,H(d.Wd,d.c),d.ye=d.m);var e=new Qc(this.Nd,this.Nb);e.Oe();for(b=0;b<this.eb;++b)this.Gc[b].Fb();for(b=0;b<a.Jd;++b){e.tb();for(d=0;d<this.eb;++d)this.Gc[d].tb(a)}for(b=0;b<this.Ja;++b)d=this.jb[b],0!=d.j&&(d.c.x+=a.Pa*d.d.x,d.c.y+=a.Pa*d.d.y,d.m+=a.Pa*d.f,d.e.i(d.m));for(b=
0;b<this.eb;++b);if(Tc)for(Uc=0;Uc<a.Jd;++Uc){d=e.hb(0.2);for(var f=p,b=0;b<this.eb;++b)var g=this.Gc[b].hb(),f=f&&g;if(d&&f)break}e.Ne();for(b=0;b<this.Ja;++b)if(d=this.jb[b],0!=d.j){d.e.i(d.m);e=d;e.Fe.i(e.ye);for(f=e.zb;f!=q;f=f.q)f.xd(e.Wd,e.Fe,e.c,e.e);d.Fc.i(0,0);d.ze=0}};var Uc=0;function Vc(){this.Id=this.Pa=q;this.Jd=0};function Wc(){}Wc.prototype={ge:function(){this.status|=Xc},Je:function(){this.status&=~Xc},ce:function(){return(this.status&Xc)==Xc},Re:function(){this.status|=Yc},Ke:function(){this.status&=~Yc},Me:function(){return(this.status&Yc)==Yc},Qe:function(){this.status|=Zc},de:function(){return(this.status&Zc)==Zc},Ea:0,Fa:0,next:0,status:0};Wc.prototype.ie=q;var Xc=1,Yc=2,Zc=4;function $c(){this.Fa=this.Ea=0};function ad(){var a=0;this.Qb=Array(8192);for(a=0;8192>a;++a)this.Qb[a]=65535;this.la=Array(8192);for(a=0;8192>a;++a)this.la[a]=new Wc;this.Ua=Array(8192);for(a=0;8192>a;++a)this.Ua[a]=new $c;for(a=0;8192>a;++a)this.la[a].Ea=65535,this.la[a].Fa=65535,this.la[a].N=q,this.la[a].status=0,this.la[a].next=a+1;this.la[8191].next=65535}
ad.prototype={Le:function(a,c){this.Ra=a;this.Ld=c},sd:function(a,c){var b=this.Ie(a,c);b.ce()==r&&(b.ge(),this.Ua[this.wb].Ea=b.Ea,this.Ua[this.wb].Fa=b.Fa,++this.wb);b.Ke()},ud:function(a,c){var b=bd(this,a,c);b!=q&&(b.ce()==r&&(b.ge(),this.Ua[this.wb].Ea=b.Ea,this.Ua[this.wb].Fa=b.Fa,++this.wb),b.Re())},Ie:function(a,c){if(a>c)var b=a,a=c,c=b;var b=cd(a,c)&8191,d=dd(this,a,c,b);if(d!=q)return d;var e=this.fd,d=this.la[e];this.fd=d.next;d.Ea=a;d.Fa=c;d.status=0;d.N=q;d.next=this.Qb[b];this.Qb[b]=
e;return d},Pe:function(a,c){if(a>c)var b=a,a=c,c=b;for(var d=cd(a,c)&8191,e=this.Qb[d],f=q;65535!=e;){if(this.la[e].Ea==a&&this.la[e].Fa==c)return b=e,f?f.next=this.la[e].next:this.Qb[d]=this.la[e].next,d=this.la[b],e=d.N,d.next=this.fd,d.Ea=65535,d.Fa=65535,d.N=q,d.status=0,this.fd=b,e;f=this.la[e];e=f.next}return q},Ra:q,Ld:q,fd:0,Ua:q,wb:0,Qb:q};function bd(a,c,b){if(c>b)var d=c,c=b,b=d;return dd(a,c,b,cd(c,b)&8191)}
function dd(a,c,b,d){for(d=a.Qb[d];65535!=d&&(a.la[d].Ea==c&&a.la[d].Fa==b)==r;)d=a.la[d].next;return 65535==d?q:a.la[d]}ad.prototype.tc=function(){for(var a=0,c=0,b=this.Ra.Ba,d=[],a=0;a<this.wb;++a){var e=bd(this,this.Ua[a].Ea,this.Ua[a].Fa);e.Je();var f=b[e.Ea],g=b[e.Fa];e.Me()?(e.de()==p&&this.Ld.fe(f.N,g.N,e.N),this.Ua[c].Ea=e.Ea,this.Ua[c].Fa=e.Fa,++c):e.de()==r&&(e.ie=this.Ld.ee(f.N,g.N),d.push(e.ie),e.Qe())}for(a=0;a<c;++a)this.Pe(this.Ua[a].Ea,this.Ua[a].Fa);this.wb=0;return d};
function cd(a,c){var b=c<<16&4294901760|a,b=~b+(b<<15&4294934528),b=b^b>>12&1048575,b=b+(b<<2&4294967292),b=2057*(b^b>>4&268435455);return b^b>>16&65535};function ed(){this.v=this.C=this.value=0}function fd(a,c){var b=a.value,d=a.C,e=a.v;a.value=c.value;a.C=c.C;a.v=c.v;c.value=b;c.C=d;c.v=e};function gd(){this.wa=[0,0];this.Ha=[0,0];this.timeStamp=this.Xb=0;this.N=q}gd.prototype={ac:function(){return this.wa[0]},vd:function(a){this.wa[0]=a},vc:function(){return 65535!=this.Xb}};function hd(){this.bd=[0,0];this.rd=[0,0]};function id(a,c){this.gb=new ad;this.Ba=Array(8192);this.Xa=Array(2048);this.Kc=Array(1024);this.mc=new F;var b=0;this.gb.Le(this,c);this.Aa=a;for(b=this.Tb=0;1024>b;b++)this.Kc[b]=0;this.Xa=Array(2);for(b=0;2>b;b++){this.Xa[b]=Array(2048);for(var d=0;2048>d;d++)this.Xa[b][d]=new ed}b=a.H.x;d=a.H.y;b-=a.A.x;d-=a.A.y;this.mc.x=65535/b;this.mc.y=65535/d;for(b=0;1023>b;++b)d=new gd,this.Ba[b]=d,d.vd(b+1),d.timeStamp=0,d.Xb=65535,d.N=q;d=new gd;this.Ba[1023]=d;d.vd(65535);d.timeStamp=0;d.Xb=65535;d.N=
q;this.gd=0;this.Lc=1;this.yb=0}function fc(a,c){var b,d,e,f;b=c.A.x;d=c.A.y;b-=a.Aa.H.x;d-=a.Aa.H.y;e=a.Aa.A.x;f=a.Aa.A.y;e-=c.H.x;f-=c.H.y;b=Math.max(b,e);d=Math.max(d,f);return 0>Math.max(b,d)}
id.prototype.Zb=function(a){for(var c=this.Ba[a],b=2*this.Tb,d=0;2>d;++d){for(var e=this.Xa[d],f=c.wa[d],g=c.Ha[d],h=e[f].value,j=e[g].value,i=[],k=0,l=g-f-1,n,o,k=0;k<l;k++)i[k]=new ed,n=i[k],o=e[f+1+k],n.value=o.value,n.C=o.C,n.v=o.v;for(var l=i.length,s=f,k=0;k<l;k++)o=i[k],n=e[s+k],n.value=o.value,n.C=o.C,n.v=o.v;i=[];l=b-g-1;for(k=0;k<l;k++)i[k]=new ed,n=i[k],o=e[g+1+k],n.value=o.value,n.C=o.C,n.v=o.v;l=i.length;s=g-1;for(k=0;k<l;k++)o=i[k],n=e[s+k],n.value=o.value,n.C=o.C,n.v=o.v;l=b-2;for(i=
f;i<l;++i)k=this.Ba[e[i].C],0==(e[i].value&1)?k.wa[d]=i:k.Ha[d]=i;for(l=g-1;f<l;++f)e[f].v--;this.wc([0],[0],h,j,e,b-2,d)}for(b=0;b<this.yb;++b)this.gb.ud(a,this.Kc[b]);this.gb.tc();this.yb=0;jd(this);c.N=q;c.Xb=65535;c.wa[0]=65535;c.wa[1]=65535;c.Ha[0]=65535;c.Ha[1]=65535;c.vd(this.gd);this.gd=a;--this.Tb};
function kd(a,c,b,d){var e=d.A.x,f=d.A.y,e=Math.min(e,a.Aa.H.x),f=Math.min(f,a.Aa.H.y),e=Math.max(e,a.Aa.A.x),f=Math.max(f,a.Aa.A.y),g=d.H.x,d=d.H.y,g=Math.min(g,a.Aa.H.x),d=Math.min(d,a.Aa.H.y),g=Math.max(g,a.Aa.A.x),d=Math.max(d,a.Aa.A.y);c[0]=a.mc.x*(e-a.Aa.A.x)&65534;b[0]=a.mc.x*(g-a.Aa.A.x)&65535|1;c[1]=a.mc.y*(f-a.Aa.A.y)&65534;b[1]=a.mc.y*(d-a.Aa.A.y)&65535|1}function ld(a,c,b){for(var d=0;2>d;++d){var e=a.Xa[d];if(c.bd[d]>e[b.Ha[d]].value||c.rd[d]<e[b.wa[d]].value)return r}return p}
id.prototype.wc=function(a,c,b,d,e,f,g){b=md(e,f,b);d=md(e,f,d);for(f=b;f<d;++f)0==(e[f].value&1)&&nd(this,e[f].C);if(0<b)for(var f=b-1,h=e[f].v;h;)0==(e[f].value&1)&&b<=this.Ba[e[f].C].Ha[g]&&(nd(this,e[f].C),--h),--f;a[0]=b;c[0]=d};function nd(a,c){var b=a.Ba[c];b.timeStamp<a.Lc?(b.timeStamp=a.Lc,b.Xb=1):(b.Xb=2,a.Kc[a.yb]=c,++a.yb)}function jd(a){if(65535==a.Lc){for(var c=0;1024>c;++c)a.Ba[c].timeStamp=0;a.Lc=1}else++a.Lc}
function ic(a,c,b){var d=0,e=0,f,g;f=0;var h;if(!(65535==c||1024<=c||b.vc()==r)){var j=2*a.Tb,i=a.Ba[c],k=new hd;kd(a,k.bd,k.rd,b);for(var l=new hd,d=0;2>d;++d)l.bd[d]=a.Xa[d][i.wa[d]].value,l.rd[d]=a.Xa[d][i.Ha[d]].value;for(d=0;2>d;++d){var n=a.Xa[d],o=i.wa[d],s=i.Ha[d],v=k.bd[d],u=k.rd[d],x=v-n[o].value,A=u-n[s].value;n[o].value=v;n[s].value=u;if(0>x)for(e=o;0<e&&v<n[e-1].value;)b=n[e],f=n[e-1],g=f.C,h=a.Ba[f.C],f.v++,1==(f.value&1)==p?(ld(a,k,h)&&a.gb.sd(c,g),h.Ha[d]++,b.v++):(h.wa[d]++,b.v--),
i.wa[d]--,fd(b,f),--e;if(0<A)for(e=s;e<j-1&&n[e+1].value<=u;)b=n[e],g=n[e+1],f=g.C,h=a.Ba[f],g.v++,0==(g.value&1)==p?(ld(a,k,h)&&a.gb.sd(c,f),h.wa[d]--,b.v++):(h.Ha[d]--,b.v--),i.Ha[d]++,fd(b,g),e++;if(0<x)for(e=o;e<j-1&&n[e+1].value<=v;)b=n[e],g=n[e+1],f=g.C,h=a.Ba[f],g.v--,1==(g.value&1)?(ld(a,l,h)&&a.gb.ud(c,f),h.Ha[d]--,b.v--):(h.wa[d]--,b.v++),i.wa[d]++,fd(b,g),e++;if(0>A)for(e=s;0<e&&u<n[e-1].value;)b=n[e],f=n[e-1],g=f.C,h=a.Ba[g],f.v--,0==(f.value&1)==p?(ld(a,l,h)&&a.gb.ud(c,g),h.wa[d]++,b.v--):
(h.Ha[d]++,b.v++),i.Ha[d]--,fd(b,f),e--}}}id.prototype.tc=function(){return this.gb.tc()};
function gc(a,c,b){var d=0,e,f=a.gd;e=a.Ba[f];a.gd=e.ac();e.Xb=0;e.N=b;b=2*a.Tb;e=[];var g=[];kd(a,e,g,c);for(c=0;2>c;++c){var h=a.Xa[c],j=0,i=0,j=[j],i=[i];a.wc(j,i,e[c],g[c],h,b,c);for(var j=j[0],i=i[0],d=[],k=0,l=b-i,n,o,k=0;k<l;k++)d[k]=new ed,n=d[k],o=h[i+k],n.value=o.value,n.C=o.C,n.v=o.v;for(var l=d.length,s=i+2,k=0;k<l;k++)o=d[k],n=h[s+k],n.value=o.value,n.C=o.C,n.v=o.v;d=[];l=i-j;for(k=0;k<l;k++)d[k]=new ed,n=d[k],o=h[j+k],n.value=o.value,n.C=o.C,n.v=o.v;l=d.length;s=j+1;for(k=0;k<l;k++)o=
d[k],n=h[s+k],n.value=o.value,n.C=o.C,n.v=o.v;++i;h[j].value=e[c];h[j].C=f;h[i].value=g[c];h[i].C=f;h[j].v=0==j?0:h[j-1].v;h[i].v=h[i-1].v;for(d=j;d<i;++d)h[d].v++;for(d=j;d<b+2;++d)j=a.Ba[h[d].C],0==(h[d].value&1)?j.wa[c]=d:j.Ha[c]=d}++a.Tb;for(b=0;b<a.yb;++b)a.gb.sd(f,a.Kc[b]);a.gb.tc();a.yb=0;jd(a);return f}function md(a,c,b){for(var d=0,c=c-1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};function od(){this.K=new F;this.L=new F}od.prototype={aa:q,ba:q,ka:function(){this.K.ka();this.aa=0;this.L.ka();this.ba=0},i:function(a,c,b,d){H(this.K,a);this.aa=c;H(this.L,b);this.ba=d},Rc:function(a,c,b,d){return this.K.x*a.x+this.K.y*a.y+this.aa*c+(this.L.x*b.x+this.L.y*b.y)+this.ba*d}};function pd(a){this.p=new z;this.r=new z;this.Na=a.type;this.q=this.D=q;this.h=a.V;this.g=a.$;this.sa=a.sa;this.ob=r;this.qb=a.N;this.k=new F;this.l=new F;this.ta=new F;this.fb=new F;this.J=new od;this.w=new od;var c,b,d;c=this.h.e;b=a.qa.x-this.h.c.x;d=a.qa.y-this.h.c.y;this.k.i(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.g.e;b=a.qa.x-this.g.c.x;d=a.qa.y-this.g.c.y;this.l.i(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.h.e;b=a.axis.x;d=a.axis.y;this.ta.i(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);this.fb.x=-this.ta.y;
this.fb.y=this.ta.x;this.hf=this.g.m-this.h.m;this.J.ka();this.Cc=this.Kd=this.pb=this.Jc=0;this.w.ka();this.ha=this.s=this.da=this.La=0;this.Td=a.bf;this.Yd=a.of;this.ve=a.Ce;this.Ud=a.Nc;this.lb=a.Dd;this.hc=a.dc}y(pd,oa);t=pd.prototype;t.Cb=function(){var a=this.h,c=new F;H(c,this.k);ya(c,a.e);c.add(a.c);return c};t.Db=function(){var a=this.g,c=new F;H(c,this.l);ya(c,a.e);c.add(a.c);return c};
function qd(a){var c=a.h,b=a.g,d;d=c.e;var e=d.a.x*a.k.x+d.b.x*a.k.y,f=d.a.y*a.k.x+d.b.y*a.k.y;d=b.e;e=b.c.x+(d.a.x*a.l.x+d.b.x*a.l.y)-(c.c.x+e);b=b.c.y+(d.a.y*a.l.x+d.b.y*a.l.y)-(c.c.y+f);d=c.e;return(d.a.x*a.ta.x+d.b.x*a.ta.y)*e+(d.a.y*a.ta.x+d.b.y*a.ta.y)*b}
t.Fb=function(){var a=this.h,c=this.g,b;b=a.e;var d=b.a.x*this.k.x+b.b.x*this.k.y,e=b.a.y*this.k.x+b.b.y*this.k.y;b=c.e;var f=b.a.x*this.l.x+b.b.x*this.l.y,g=b.a.y*this.l.x+b.b.y*this.l.y,h=a.j,j=c.j,i=a.n,k=c.n;b=a.e;var l=b.a.x*this.fb.x+b.b.x*this.fb.y;b=b.a.y*this.fb.x+b.b.y*this.fb.y;var n=c.c.x+f-a.c.x,o=c.c.y+g-a.c.y;this.J.K.x=-l;this.J.K.y=-b;this.J.L.x=l;this.J.L.y=b;this.J.aa=-(n*b-o*l);this.J.ba=f*b-g*l;this.Jc=h+i*this.J.aa*this.J.aa+j+k*this.J.ba*this.J.ba;this.Jc=1/this.Jc;this.Kd=
1/(i+k);if(this.lb||this.hc)b=a.e,l=b.a.x*this.ta.x+b.b.x*this.ta.y,b=b.a.y*this.ta.x+b.b.y*this.ta.y,this.w.K.x=-l,this.w.K.y=-b,this.w.L.x=l,this.w.L.y=b,this.w.aa=-(n*b-o*l),this.w.ba=f*b-g*l,this.La=h+i*this.w.aa*this.w.aa+j+k*this.w.ba*this.w.ba,this.La=1/this.La,this.lb&&(d=l*(n-d)+b*(o-e),0.3>Math.abs(this.Yd-this.Td)?this.M=3:d<=this.Td?(1!=this.M&&(this.s=0),this.M=1):d>=this.Yd?(2!=this.M&&(this.s=0),this.M=2):this.s=this.M=0);this.hc==r&&(this.da=0);this.lb==r&&(this.s=0);Rc?(d=this.pb*
this.J.K.y+(this.da+this.s)*this.w.K.y,e=this.pb*this.J.L.x+(this.da+this.s)*this.w.L.x,f=this.pb*this.J.L.y+(this.da+this.s)*this.w.L.y,g=this.pb*this.J.aa-this.Cc+(this.da+this.s)*this.w.aa,n=this.pb*this.J.ba+this.Cc+(this.da+this.s)*this.w.ba,a.d.x+=h*(this.pb*this.J.K.x+(this.da+this.s)*this.w.K.x),a.d.y+=h*d,a.f+=i*g,c.d.x+=j*e,c.d.y+=j*f,c.f+=k*n):this.da=this.s=this.Cc=this.pb=0;this.ha=0};
t.tb=function(a){var c=this.h,b=this.g,d=c.j,e=b.j,f=c.n,g=b.n,h=-this.Jc*this.J.Rc(c.d,c.f,b.d,b.f);this.pb+=h;c.d.x+=d*h*this.J.K.x;c.d.y+=d*h*this.J.K.y;c.f+=f*h*this.J.aa;b.d.x+=e*h*this.J.L.x;b.d.y+=e*h*this.J.L.y;b.f+=g*h*this.J.ba;h=-this.Kd*(b.f-c.f);this.Cc+=h;c.f-=f*h;b.f+=g*h;if(this.hc&&3!=this.M){var h=-this.La*(this.w.Rc(c.d,c.f,b.d,b.f)-this.Ud),j=this.da;this.da=U(this.da+h,-a.Pa*this.ve,a.Pa*this.ve);h=this.da-j;c.d.x+=d*h*this.w.K.x;c.d.y+=d*h*this.w.K.y;c.f+=f*h*this.w.aa;b.d.x+=
e*h*this.w.L.x;b.d.y+=e*h*this.w.L.y;b.f+=g*h*this.w.ba}this.lb&&0!=this.M&&(h=-this.La*this.w.Rc(c.d,c.f,b.d,b.f),3==this.M?this.s+=h:1==this.M?(a=this.s,this.s=Math.max(this.s+h,0),h=this.s-a):2==this.M&&(a=this.s,this.s=Math.min(this.s+h,0),h=this.s-a),c.d.x+=d*h*this.w.K.x,c.d.y+=d*h*this.w.K.y,c.f+=f*h*this.w.aa,b.d.x+=e*h*this.w.L.x,b.d.y+=e*h*this.w.L.y,b.f+=g*h*this.w.ba)};
t.hb=function(){var a,c,b=this.h,d=this.g,e=b.j,f=d.j,g=b.n,h=d.n;a=b.e;var j=a.a.x*this.k.x+a.b.x*this.k.y,i=a.a.y*this.k.x+a.b.y*this.k.y;a=d.e;var k=a.a.x*this.l.x+a.b.x*this.l.y;a=a.a.y*this.l.x+a.b.y*this.l.y;var j=b.c.x+j,i=b.c.y+i,k=d.c.x+k,l=d.c.y+a;a=b.e;var n=(a.a.x*this.fb.x+a.b.x*this.fb.y)*(k-j)+(a.a.y*this.fb.x+a.b.y*this.fb.y)*(l-i),n=U(n,-6,6);c=-this.Jc*n;b.c.x+=e*c*this.J.K.x;b.c.y+=e*c*this.J.K.y;b.m+=g*c*this.J.aa;d.c.x+=f*c*this.J.L.x;d.c.y+=f*c*this.J.L.y;d.m+=h*c*this.J.ba;
n=Math.abs(n);c=d.m-b.m-this.hf;c=U(c,-Ka,Ka);var o=-this.Kd*c;b.m-=b.n*o;b.e.i(b.m);d.m+=d.n*o;d.e.i(d.m);o=Math.abs(c);this.lb&&0!=this.M&&(a=b.e,j=a.a.x*this.k.x+a.b.x*this.k.y,i=a.a.y*this.k.x+a.b.y*this.k.y,a=d.e,k=a.a.x*this.l.x+a.b.x*this.l.y,a=a.a.y*this.l.x+a.b.y*this.l.y,j=b.c.x+j,i=b.c.y+i,k=d.c.x+k,l=d.c.y+a,a=b.e,j=(a.a.x*this.ta.x+a.b.x*this.ta.y)*(k-j)+(a.a.y*this.ta.x+a.b.y*this.ta.y)*(l-i),a=0,3==this.M?(a=U(j,-6,6),a*=-this.La,n=Math.max(n,Math.abs(c))):1==this.M?(a=j-this.Td,n=
Math.max(n,-a),a=U(a+0.15,-6,0),a*=-this.La,c=this.ha,this.ha=Math.max(this.ha+a,0),a=this.ha-c):2==this.M&&(a=j-this.Yd,n=Math.max(n,a),a=U(a-0.15,0,6),a*=-this.La,c=this.ha,this.ha=Math.min(this.ha+a,0),a=this.ha-c),b.c.x+=e*a*this.w.K.x,b.c.y+=e*a*this.w.K.y,b.m+=g*a*this.w.aa,b.e.i(b.m),d.c.x+=f*a*this.w.L.x,d.c.y+=f*a*this.w.L.y,d.m+=h*a*this.w.ba,d.e.i(d.m));return 0.15>=n&&o<=Ja};function rd(a){this.p=new z;this.r=new z;this.Na=a.type;this.q=this.D=q;this.h=a.V;this.g=a.$;this.sa=a.sa;this.ob=r;this.qb=a.N;this.va=new K;this.oa=new K;this.pa=new K;this.Ya=new F;this.oc=new F;this.I=new F;this.xb=new K;this.dd=new F;H(this.oc,a.target);var c=this.oc.x-this.g.c.x,b=this.oc.y-this.g.c.y;this.Ya.x=c*this.g.e.a.x+b*this.g.e.a.y;this.Ya.y=c*this.g.e.b.x+b*this.g.e.b.y;this.se=a.wf;this.I.ka();var b=this.g.Da,d=2*Ia*a.vf,c=2*b*a.uf*d,b=b*d*d;this.hd=1/(c+a.He*b);this.oe=a.He*b/(c+
a.He*b)}y(rd,oa);t=rd.prototype;t.Cb=ba("oc");t.Db=function(){var a=T(this.g.e,this.Ya);a.add(this.g.c);return a};
t.Fb=function(){var a=this.g,c;c=a.e;var b=c.a.x*this.Ya.x+c.b.x*this.Ya.y;c=c.a.y*this.Ya.x+c.b.y*this.Ya.y;var d=a.j,e=a.n;this.oa.a.x=d;this.oa.b.x=0;this.oa.a.y=0;this.oa.b.y=d;this.pa.a.x=e*c*c;this.pa.b.x=-e*b*c;this.pa.a.y=-e*b*c;this.pa.b.y=e*b*b;Da(this.va,this.oa);Ea(this.va,this.pa);this.va.a.x+=this.hd;this.va.b.y+=this.hd;Fa(this.va,this.xb);this.dd.x=a.c.x+b-this.oc.x;this.dd.y=a.c.y+c-this.oc.y;a.f*=0.98;var f=this.I.x,g=this.I.y;a.d.x+=d*f;a.d.y+=d*g;a.f+=e*(b*g-c*f)};
t.tb=function(a){var c=this.g,b;b=c.e;var d=b.a.x*this.Ya.x+b.b.x*this.Ya.y,e=b.a.y*this.Ya.x+b.b.y*this.Ya.y,f=c.d.x+-c.f*e,g=c.d.y+c.f*d;b=this.xb;var f=f+this.oe*a.Id*this.dd.x+this.hd*this.I.x,h=g+this.oe*a.Id*this.dd.y+this.hd*this.I.y,g=-(b.a.x*f+b.b.x*h),h=-(b.a.y*f+b.b.y*h);b=this.I.x;f=this.I.y;this.I.x+=g;this.I.y+=h;g=C(this.I);g>a.Pa*this.se&&this.I.scale(a.Pa*this.se/g);g=this.I.x-b;h=this.I.y-f;c.d.x+=c.j*g;c.d.y+=c.j*h;c.f+=c.n*(d*h-e*g)};t.hb=ca(p);function sd(a){this.p=new z;this.r=new z;this.Na=a.type;this.q=this.D=q;this.h=a.V;this.g=a.$;this.sa=a.sa;this.ob=r;this.qb=a.N;this.mb=new F;this.nb=new F;this.k=new F;this.l=new F;this.F=new F;this.G=new F;var c,b,d;this.Ta=this.h.R.ic;this.mb.x=a.Fd.x-this.Ta.c.x;this.mb.y=a.Fd.y-this.Ta.c.y;this.nb.x=a.Gd.x-this.Ta.c.x;this.nb.y=a.Gd.y-this.Ta.c.y;c=this.h.e;b=a.Hb.x-this.h.c.x;d=a.Hb.y-this.h.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;c=this.g.e;b=a.Ib.x-this.g.c.x;d=a.Ib.y-this.g.c.y;
this.l.x=b*c.a.x+d*c.a.y;this.l.y=b*c.b.x+d*c.b.y;this.Y=a.mf;b=a.Fd.x-a.Hb.x;d=a.Fd.y-a.Hb.y;c=Math.sqrt(b*b+d*d);b=a.Gd.x-a.Ib.x;d=a.Gd.y-a.Ib.y;b=Math.sqrt(b*b+d*d);d=Math.max(0.5*td,c);b=Math.max(0.5*td,b);this.Dc=d+this.Y*b;this.te=U(a.xf,d,this.Dc-this.Y*td);this.ue=U(a.yf,b,(this.Dc-td)/this.Y);this.Sb=this.Rb=this.lc=0}y(sd,oa);t=sd.prototype;t.Cb=function(){var a=this.h.e;return new F(this.h.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.h.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};
t.Db=function(){var a=this.g.e;return new F(this.g.c.x+(a.a.x*this.l.x+a.b.x*this.l.y),this.g.c.y+(a.a.y*this.l.x+a.b.y*this.l.y))};
t.Fb=function(){var a=this.h,c=this.g,b;b=a.e;var d=b.a.x*this.k.x+b.b.x*this.k.y,e=b.a.y*this.k.x+b.b.y*this.k.y;b=c.e;var f=b.a.x*this.l.x+b.b.x*this.l.y;b=b.a.y*this.l.x+b.b.y*this.l.y;var g=c.c.x+f,h=c.c.y+b,j=this.Ta.c.x+this.nb.x,i=this.Ta.c.y+this.nb.y;this.F.i(a.c.x+d-(this.Ta.c.x+this.mb.x),a.c.y+e-(this.Ta.c.y+this.mb.y));this.G.i(g-j,h-i);g=C(this.F);h=C(this.G);0.15<g?this.F.scale(1/g):this.F.ka();0.15<h?this.G.scale(1/h):this.G.ka();g<this.te?this.Rb=this.Qd=0:(this.Qd=2,this.kd=0);h<
this.ue?this.Sb=this.Rd=0:(this.Rd=2,this.ld=0);g=d*this.F.y-e*this.F.x;h=f*this.G.y-b*this.G.x;this.Hc=a.j+a.n*g*g;this.Ic=c.j+c.n*h*h;this.nd=this.Hc+this.Y*this.Y*this.Ic;this.Hc=1/this.Hc;this.Ic=1/this.Ic;this.nd=1/this.nd;g=(-this.lc-this.Rb)*this.F.x;h=(-this.lc-this.Rb)*this.F.y;j=(-this.Y*this.lc-this.Sb)*this.G.x;i=(-this.Y*this.lc-this.Sb)*this.G.y;a.d.x+=a.j*g;a.d.y+=a.j*h;a.f+=a.n*(d*h-e*g);c.d.x+=c.j*j;c.d.y+=c.j*i;c.f+=c.n*(f*i-b*j)};
t.tb=function(){var a=this.h,c=this.g,b;b=a.e;var d=b.a.x*this.k.x+b.b.x*this.k.y,e=b.a.y*this.k.x+b.b.y*this.k.y;b=c.e;var f=b.a.x*this.l.x+b.b.x*this.l.y;b=b.a.y*this.l.x+b.b.y*this.l.y;var g,h,j,i;g=a.d.x+-a.f*e;h=a.d.y+a.f*d;j=c.d.x+-c.f*b;i=c.d.y+c.f*f;g=-(this.F.x*g+this.F.y*h)-this.Y*(this.G.x*j+this.G.y*i);i=-this.nd*g;this.lc+=i;g=-i*this.F.x;h=-i*this.F.y;j=-this.Y*i*this.G.x;i=-this.Y*i*this.G.y;a.d.x+=a.j*g;a.d.y+=a.j*h;a.f+=a.n*(d*h-e*g);c.d.x+=c.j*j;c.d.y+=c.j*i;c.f+=c.n*(f*i-b*j);2==
this.Qd&&(g=a.d.x+-a.f*e,h=a.d.y+a.f*d,g=-(this.F.x*g+this.F.y*h),i=-this.Hc*g,g=this.Rb,this.Rb=Math.max(0,this.Rb+i),i=this.Rb-g,g=-i*this.F.x,h=-i*this.F.y,a.d.x+=a.j*g,a.d.y+=a.j*h,a.f+=a.n*(d*h-e*g));2==this.Rd&&(j=c.d.x+-c.f*b,i=c.d.y+c.f*f,g=-(this.G.x*j+this.G.y*i),i=-this.Ic*g,g=this.Sb,this.Sb=Math.max(0,this.Sb+i),i=this.Sb-g,j=-i*this.G.x,i=-i*this.G.y,c.d.x+=c.j*j,c.d.y+=c.j*i,c.f+=c.n*(f*i-b*j))};
t.hb=function(){var a=this.h,c=this.g,b,d=this.Ta.c.x+this.mb.x,e=this.Ta.c.y+this.mb.y,f=this.Ta.c.x+this.nb.x,g=this.Ta.c.y+this.nb.y,h,j,i,k,l,n,o,s=0;b=a.e;h=b.a.x*this.k.x+b.b.x*this.k.y;j=b.a.y*this.k.x+b.b.y*this.k.y;b=c.e;i=b.a.x*this.l.x+b.b.x*this.l.y;b=b.a.y*this.l.x+b.b.y*this.l.y;k=a.c.x+h;l=a.c.y+j;n=c.c.x+i;o=c.c.y+b;this.F.i(k-d,l-e);this.G.i(n-f,o-g);k=C(this.F);l=C(this.G);0.15<k?this.F.scale(1/k):this.F.ka();0.15<l?this.G.scale(1/l):this.G.ka();k=this.Dc-k-this.Y*l;s=Math.max(s,
Math.abs(k));k=U(k,-6,6);o=-this.nd*k;k=-o*this.F.x;l=-o*this.F.y;n=-this.Y*o*this.G.x;o=-this.Y*o*this.G.y;a.c.x+=a.j*k;a.c.y+=a.j*l;a.m+=a.n*(h*l-j*k);c.c.x+=c.j*n;c.c.y+=c.j*o;c.m+=c.n*(i*o-b*n);a.e.i(a.m);c.e.i(c.m);2==this.Qd&&(b=a.e,h=b.a.x*this.k.x+b.b.x*this.k.y,j=b.a.y*this.k.x+b.b.y*this.k.y,k=a.c.x+h,l=a.c.y+j,this.F.i(k-d,l-e),k=C(this.F),0.15<k?(this.F.x*=1/k,this.F.y*=1/k):this.F.ka(),k=this.te-k,s=Math.max(s,-k),k=U(k+0.15,-6,0),o=-this.Hc*k,d=this.kd,this.kd=Math.max(0,this.kd+o),
o=this.kd-d,k=-o*this.F.x,l=-o*this.F.y,a.c.x+=a.j*k,a.c.y+=a.j*l,a.m+=a.n*(h*l-j*k),a.e.i(a.m));2==this.Rd&&(b=c.e,i=b.a.x*this.l.x+b.b.x*this.l.y,b=b.a.y*this.l.x+b.b.y*this.l.y,n=c.c.x+i,o=c.c.y+b,this.G.i(n-f,o-g),l=C(this.G),0.15<l?(this.G.x*=1/l,this.G.y*=1/l):this.G.ka(),k=this.ue-l,s=Math.max(s,-k),k=U(k+0.15,-6,0),o=-this.Ic*k,d=this.ld,this.ld=Math.max(0,this.ld+o),o=this.ld-d,n=-o*this.G.x,o=-o*this.G.y,c.c.x+=c.j*n,c.c.y+=c.j*o,c.m+=c.n*(i*o-b*n),c.e.i(c.m));return 0.15>s};var td=30;function ud(a){this.p=new z;this.r=new z;this.Na=a.type;this.q=this.D=q;this.h=a.V;this.g=a.$;this.sa=a.sa;this.ob=r;this.qb=a.N;this.mb=new F;this.nb=new F;this.k=new F;this.l=new F;this.U=new od;this.kc=this.Vb=this.jc=this.Ub=q;var c,b;this.ff=a.Xc.h;this.h=a.Xc.g;1==a.Xc.Na?(this.Ub=a.Xc,H(this.mb,this.Ub.k),H(this.k,this.Ub.l),c=vd(this.Ub)):(this.jc=a.Xc,H(this.mb,this.jc.k),H(this.k,this.jc.l),c=qd(this.jc));this.gf=a.Yc.h;this.g=a.Yc.g;1==a.Yc.Na?(this.Vb=a.Yc,H(this.nb,this.Vb.k),H(this.l,
this.Vb.l),b=vd(this.Vb)):(this.kc=a.Yc,H(this.nb,this.kc.k),H(this.l,this.kc.l),b=qd(this.kc));this.Y=a.mf;this.Dc=c+this.Y*b;this.I=0}y(ud,oa);t=ud.prototype;t.Cb=function(){var a=this.h.e;return new F(this.h.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.h.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};t.Db=function(){var a=this.g.e;return new F(this.g.c.x+(a.a.x*this.l.x+a.b.x*this.l.y),this.g.c.y+(a.a.y*this.l.x+a.b.y*this.l.y))};
t.Fb=function(){var a=this.ff,c=this.gf,b=this.h,d=this.g,e,f,g,h=0;this.U.ka();this.Ub?(this.U.aa=-1,h+=b.n):(g=a.e,e=this.jc.ta,a=g.a.x*e.x+g.b.x*e.y,e=g.a.y*e.x+g.b.y*e.y,g=b.e,f=g.a.x*this.k.x+g.b.x*this.k.y,g=g.a.y*this.k.x+g.b.y*this.k.y,f=f*e-g*a,this.U.K.i(-a,-e),this.U.aa=-f,h+=b.j+b.n*f*f);this.Vb?(this.U.ba=-this.Y,h+=this.Y*this.Y*d.n):(g=c.e,e=this.kc.ta,a=g.a.x*e.x+g.b.x*e.y,e=g.a.y*e.x+g.b.y*e.y,g=d.e,f=g.a.x*this.l.x+g.b.x*this.l.y,g=g.a.y*this.l.x+g.b.y*this.l.y,f=f*e-g*a,this.U.L.i(-this.Y*
a,-this.Y*e),this.U.ba=-this.Y*f,h+=this.Y*this.Y*(d.j+d.n*f*f));this.Da=1/h;b.d.x+=b.j*this.I*this.U.K.x;b.d.y+=b.j*this.I*this.U.K.y;b.f+=b.n*this.I*this.U.aa;d.d.x+=d.j*this.I*this.U.L.x;d.d.y+=d.j*this.I*this.U.L.y;d.f+=d.n*this.I*this.U.ba};t.tb=function(){var a=this.h,c=this.g,b=-this.Da*this.U.Rc(a.d,a.f,c.d,c.f);this.I+=b;a.d.x+=a.j*b*this.U.K.x;a.d.y+=a.j*b*this.U.K.y;a.f+=a.n*b*this.U.aa;c.d.x+=c.j*b*this.U.L.x;c.d.y+=c.j*b*this.U.L.y;c.f+=c.n*b*this.U.ba};
t.hb=function(){var a=this.h,c=this.g,b=-this.Da*(this.Dc-((this.Ub?vd(this.Ub):qd(this.jc))+this.Y*(this.Vb?vd(this.Vb):qd(this.kc))));a.c.x+=a.j*b*this.U.K.x;a.c.y+=a.j*b*this.U.K.y;a.m+=a.n*b*this.U.aa;c.c.x+=c.j*b*this.U.L.x;c.c.y+=c.j*b*this.U.L.y;c.m+=c.n*b*this.U.ba;a.e.i(a.m);c.e.i(c.m);return p};function wd(a){this.p=new z;this.r=new z;this.Na=a.type;this.q=this.D=q;this.h=a.V;this.g=a.$;this.sa=a.sa;this.ob=r;this.qb=a.N;this.va=new K;this.oa=new K;this.pa=new K;this.Wa=new K;this.k=new F;this.l=new F;this.Ma=new F;this.xb=new K;var c,b,d;c=this.h.e;b=a.qa.x-this.h.c.x;d=a.qa.y-this.h.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;c=this.g.e;b=a.qa.x-this.g.c.x;d=a.qa.y-this.g.c.y;this.l.x=b*c.a.x+d*c.a.y;this.l.y=b*c.b.x+d*c.b.y;this.qe=this.g.m-this.h.m;this.Ma.i(0,0);this.ha=this.s=
this.da=0;this.Sd=a.af;this.Xd=a.nf;this.we=a.De;this.Ud=a.Nc;this.lb=a.Dd;this.hc=a.dc}y(wd,oa);wd.prototype.Cb=function(){var a=this.h.e;return new F(this.h.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.h.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};wd.prototype.Db=function(){var a=this.g.e;return new F(this.g.c.x+(a.a.x*this.l.x+a.b.x*this.l.y),this.g.c.y+(a.a.y*this.l.x+a.b.y*this.l.y))};function vd(a){return a.g.m-a.h.m}new K;t=wd.prototype;t.oa=new K;t.pa=new K;t.Wa=new K;
t.Fb=function(){var a=this.h,c=this.g,b;b=a.e;var d=b.a.x*this.k.x+b.b.x*this.k.y,e=b.a.y*this.k.x+b.b.y*this.k.y;b=c.e;var f=b.a.x*this.l.x+b.b.x*this.l.y;b=b.a.y*this.l.x+b.b.y*this.l.y;var g=a.j,h=c.j,j=a.n,i=c.n;this.oa.a.x=g+h;this.oa.b.x=0;this.oa.a.y=0;this.oa.b.y=g+h;this.pa.a.x=j*e*e;this.pa.b.x=-j*d*e;this.pa.a.y=-j*d*e;this.pa.b.y=j*d*d;this.Wa.a.x=i*b*b;this.Wa.b.x=-i*f*b;this.Wa.a.y=-i*f*b;this.Wa.b.y=i*f*f;Da(this.va,this.oa);Ea(this.va,this.pa);Ea(this.va,this.Wa);Fa(this.va,this.xb);
this.La=1/(j+i);this.hc==r&&(this.da=0);if(this.lb){var k=c.m-a.m-this.qe;Math.abs(this.Xd-this.Sd)<2*Ja?this.M=3:k<=this.Sd?(1!=this.M&&(this.s=0),this.M=1):k>=this.Xd?(2!=this.M&&(this.s=0),this.M=2):this.s=this.M=0}else this.s=0;Rc?(a.d.x-=g*this.Ma.x,a.d.y-=g*this.Ma.y,a.f-=j*(d*this.Ma.y-e*this.Ma.x+this.da+this.s),c.d.x+=h*this.Ma.x,c.d.y+=h*this.Ma.y,c.f+=i*(f*this.Ma.y-b*this.Ma.x+this.da+this.s)):(this.Ma.ka(),this.s=this.da=0);this.ha=0};
t.tb=function(a){var c=this.h,b=this.g,d;d=c.e;var e=d.a.x*this.k.x+d.b.x*this.k.y,f=d.a.y*this.k.x+d.b.y*this.k.y;d=b.e;var g=d.a.x*this.l.x+d.b.x*this.l.y;d=d.a.y*this.l.x+d.b.y*this.l.y;var h=b.d.x+-b.f*d-c.d.x- -c.f*f,j=b.d.y+b.f*g-c.d.y-c.f*e,i=-(this.xb.a.x*h+this.xb.b.x*j),h=-(this.xb.a.y*h+this.xb.b.y*j);this.Ma.x+=i;this.Ma.y+=h;c.d.x-=c.j*i;c.d.y-=c.j*h;c.f-=c.n*(e*h-f*i);b.d.x+=b.j*i;b.d.y+=b.j*h;b.f+=b.n*(g*h-d*i);this.hc&&3!=this.M&&(e=-this.La*(b.f-c.f-this.Ud),f=this.da,this.da=U(this.da+
e,-a.Pa*this.we,a.Pa*this.we),e=this.da-f,c.f-=c.n*e,b.f+=b.n*e);this.lb&&0!=this.M&&(e=-this.La*(b.f-c.f),3==this.M?this.s+=e:1==this.M?(a=this.s,this.s=Math.max(this.s+e,0),e=this.s-a):2==this.M&&(a=this.s,this.s=Math.min(this.s+e,0),e=this.s-a),c.f-=c.n*e,b.f+=b.n*e)};
t.hb=function(){var a,c=this.h,b=this.g,d=0,d=c.e,e=d.a.x*this.k.x+d.b.x*this.k.y,f=d.a.y*this.k.x+d.b.y*this.k.y,d=b.e;a=d.a.x*this.l.x+d.b.x*this.l.y;var g=d.a.y*this.l.x+d.b.y*this.l.y,h=b.c.x+a-(c.c.x+e),j=b.c.y+g-(c.c.y+f),d=Math.sqrt(h*h+j*j),i=c.j,k=b.j,l=c.n,n=b.n;this.oa.a.x=i+k;this.oa.b.x=0;this.oa.a.y=0;this.oa.b.y=i+k;this.pa.a.x=l*f*f;this.pa.b.x=-l*e*f;this.pa.a.y=-l*e*f;this.pa.b.y=l*e*e;this.Wa.a.x=n*g*g;this.Wa.b.x=-n*a*g;this.Wa.a.y=-n*a*g;this.Wa.b.y=n*a*a;Da(this.va,this.oa);
Ea(this.va,this.pa);Ea(this.va,this.Wa);this.va.wd(xd,-h,-j);h=xd.x;j=xd.y;c.c.x-=c.j*h;c.c.y-=c.j*j;c.m-=c.n*(e*j-f*h);c.e.i(c.m);b.c.x+=b.j*h;b.c.y+=b.j*j;b.m+=b.n*(a*j-g*h);b.e.i(b.m);e=0;this.lb&&0!=this.M&&(a=b.m-c.m-this.qe,f=0,3==this.M?(a=U(a,-Ka,Ka),f=-this.La*a,e=Math.abs(a)):1==this.M?(a-=this.Sd,e=Math.max(0,-a),a=U(a+Ja,-Ka,0),f=-this.La*a,a=this.ha,this.ha=Math.max(this.ha+f,0),f=this.ha-a):2==this.M&&(a-=this.Xd,e=Math.max(0,a),a=U(a-Ja,0,Ka),f=-this.La*a,a=this.ha,this.ha=Math.min(this.ha+
f,0),f=this.ha-a),c.m-=c.n*f,c.e.i(c.m),b.m+=b.n*f,b.e.i(b.m));return 0.15>=d&&e<=Ja};var xd=new F;function yd(a){this.p=new z;this.r=new z;this.Na=a.type;this.q=this.D=q;this.h=a.V;this.g=a.$;this.sa=a.sa;this.ob=r;this.qb=a.N;this.k=new F;this.l=new F;this.fa=new F;var c,b,d;c=this.h.e;b=a.Hb.x-this.h.c.x;d=a.Hb.y-this.h.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;c=this.g.e;b=a.Ib.x-this.g.c.x;d=a.Ib.y-this.g.c.y;this.l.x=b*c.a.x+d*c.a.y;this.l.y=b*c.b.x+d*c.b.y;b=a.Ib.x-a.Hb.x;d=a.Ib.y-a.Hb.y;this.jf=Math.sqrt(b*b+d*d);this.I=0}y(yd,oa);t=yd.prototype;
t.Fb=function(){var a;a=this.h.e;var c=a.a.x*this.k.x+a.b.x*this.k.y,b=a.a.y*this.k.x+a.b.y*this.k.y;a=this.g.e;var d=a.a.x*this.l.x+a.b.x*this.l.y;a=a.a.y*this.l.x+a.b.y*this.l.y;this.fa.x=this.g.c.x+d-this.h.c.x-c;this.fa.y=this.g.c.y+a-this.h.c.y-b;var e=Math.sqrt(this.fa.x*this.fa.x+this.fa.y*this.fa.y);0.15<e?this.fa.scale(1/e):this.fa.ka();var e=c*this.fa.y-b*this.fa.x,f=d*this.fa.y-a*this.fa.x;this.Da=this.h.j+this.h.n*e*e+this.g.j+this.g.n*f*f;this.Da=1/this.Da;Rc?(e=this.I*this.fa.x,f=this.I*
this.fa.y,this.h.d.x-=this.h.j*e,this.h.d.y-=this.h.j*f,this.h.f-=this.h.n*(c*f-b*e),this.g.d.x+=this.g.j*e,this.g.d.y+=this.g.j*f,this.g.f+=this.g.n*(d*f-a*e)):this.I=0};
t.tb=function(){var a;a=this.h.e;var c=a.a.x*this.k.x+a.b.x*this.k.y,b=a.a.y*this.k.x+a.b.y*this.k.y;a=this.g.e;var d=a.a.x*this.l.x+a.b.x*this.l.y;a=a.a.y*this.l.x+a.b.y*this.l.y;var e=-this.Da*(this.fa.x*(this.g.d.x+-this.g.f*a-(this.h.d.x+-this.h.f*b))+this.fa.y*(this.g.d.y+this.g.f*d-(this.h.d.y+this.h.f*c)));this.I+=e;var f=e*this.fa.x,e=e*this.fa.y;this.h.d.x-=this.h.j*f;this.h.d.y-=this.h.j*e;this.h.f-=this.h.n*(c*e-b*f);this.g.d.x+=this.g.j*f;this.g.d.y+=this.g.j*e;this.g.f+=this.g.n*(d*e-
a*f)};
t.hb=function(){var a;a=this.h.e;var c=a.a.x*this.k.x+a.b.x*this.k.y,b=a.a.y*this.k.x+a.b.y*this.k.y;a=this.g.e;var d=a.a.x*this.l.x+a.b.x*this.l.y;a=a.a.y*this.l.x+a.b.y*this.l.y;var e=this.g.c.x+d-this.h.c.x-c,f=this.g.c.y+a-this.h.c.y-b,g=Math.sqrt(e*e+f*f),e=e/g,f=f/g,g=g-this.jf,g=U(g,-6,6),h=-this.Da*g;this.fa.i(e,f);e=h*this.fa.x;f=h*this.fa.y;this.h.c.x-=this.h.j*e;this.h.c.y-=this.h.j*f;this.h.m-=this.h.n*(c*f-b*e);this.g.c.x+=this.g.j*e;this.g.c.y+=this.g.j*f;this.g.m+=this.g.n*(d*f-a*e);
this.h.e.i(this.h.m);this.g.e.i(this.g.m);return 0.15>Math.abs(g)};t.Cb=function(){return za(this.h.c,T(this.h.e,this.k))};t.Db=function(){return za(this.g.c,T(this.g.e,this.l))};function zd(a){switch(a.type){case 3:return new yd(a);case 5:return new rd(a);case 2:return new pd(a);case 1:return new wd(a);case 4:return new sd(a);case 6:return new ud(a);default:throw"def not supported";}};function Ad(a,c,b){this.od=new Vc;this.Ob=new Mc(this);this.X=this.W=this.kb=this.re=q;this.eb=this.Nb=this.Ja=0;this.ed=q;this.cf=b;this.ef=c;this.Ob.R=this;this.Ra=new id(a,this.Ob);this.ic=O(this,new L);this.Pc=r}function O(a,c){var b=new kc(c,a);b.D=q;if(b.q=a.kb)a.kb.D=b;a.kb=b;++a.Ja;return b}
function Pa(a,c){var b=zd(c);b.D=q;if(b.q=a.X)a.X.D=b;a.X=b;++a.eb;b.p.Kb=b;b.p.ma=b.g;b.p.prev=q;if(b.p.next=b.h.X)b.h.X.prev=b.p;b.h.X=b.p;b.r.Kb=b;b.r.ma=b.h;b.r.prev=q;if(b.r.next=b.g.X)b.g.X.prev=b.r;b.g.X=b.r;if(c.sa==r)for(b=(c.V.Wb<c.$.Wb?c.V:c.$).zb;b;b=b.q)b.Tc(a.Ra)}
Ad.prototype.wc=function(a,c,b){var d=[],e=this.Ra,f=[],g=[];kd(e,f,g,a);var a=[0],h=[0];e.wc(a,h,f[0],g[0],e.Xa[0],2*e.Tb,0);e.wc(a,h,f[1],g[1],e.Xa[1],2*e.Tb,1);for(g=f=0;g<e.yb&&f<b;++g,++f)d[g]=e.Ba[e.Kc[g]].N;e.yb=0;jd(e);b=f;for(e=0;e<b;++e)c[e]=d[e];return b};var Tc=1,Rc=1;function Bd(a){var c=new Qa,b=new L;N(b,c);c.Ia=1;c.ec=0.5;c.S.i(10,10);for(c=0;8>c;c++)b.position.i(250-2*Math.random()-1,245-22*c),O(a,b);for(c=0;8>c;c++)b.position.i(150-5*Math.random()+c,245-22*c),O(a,b);for(c=0;8>c;c++)b.position.i(350+5*Math.random()-c,245-22*c),O(a,b)};function Cd(a){var c,b=a.ic,d=new Ba;for(c=0;4>c;c++)d.qa.i(250+40*c,50),d.V=b,d.$=Dd(a,250+40*c,200),Pa(a,d);d.qa.i(210,50);d.V=b;d.$=Dd(a,60,50);Pa(a,d)};function Ed(){this.Uc=this.yd=0;this.bc=[];this.xc=0;this.Vc=NaN};!P||kb();!Za&&!P||P&&kb()||Za&&ib("1.9.1");P&&ib("9");function Fd(a){(w.requestAnimationFrame||w.webkitRequestAnimationFrame||w.mozRequestAnimationFrame||w.oRequestAnimationFrame||w.msRequestAnimationFrame||function(a){w.setTimeout(a,17)})(a)};function Gd(a){this.Md=a;this.Md.fillStyle=this.Md.strokeStyle="#666";this.Ec=[Zb,Yb,Bd,Cd,Na];Hd(this);this.pe=new Ed;this.Pd=p;this.zd();$(a.canvas).click(ma(function(c){c=new wa(c.pageX-a.canvas.offsetLeft,c.pageY-a.canvas.offsetTop);0.5>Math.random()?Dd(this.R,c.x,c.y,10):Oa(this.R,c.x,c.y,10,10,r)},this))}y(Gd,Vb);
function Hd(a,c){if(0===a.Ec.length)throw"No demos to load";if(c===m)a.vb=Math.floor(Math.random()*a.Ec.length);else{for(a.vb+=c;0>a.vb;)a.vb+=a.Ec.length;a.vb%=a.Ec.length}var b=new bc;b.A.i(-1E3,-1E3);b.H.i(1E3,1E3);b=new Ad(b,new F(0,300),p);Oa(b,250,305,250,5,p,p);Oa(b,5,185,5,125,p,p);Oa(b,495,185,5,125,p,p);a.R=b;a.Ec[a.vb](a.R)}function Id(a,c){c!==m&&(a.Pd=!!c);return a.Pd}
Gd.prototype.zd=function(){var a=this.pe,c=na();if(0<a.yd){var b=c-a.yd,b=b/1E3;100>a.bc.length?a.bc.push(b):(a.Uc=(a.Uc+1)%a.bc.length,a.xc-=a.bc[a.Uc],a.bc[a.Uc]=b);a.xc+=b;a.Vc=a.bc.length/a.xc}a.yd=c;if(this.Pd)Fd(ma(this.zd,this));else{a=this.zd;if(fa(a))this&&(a=ma(a,this));else if(a&&"function"==typeof a.handleEvent)a=ma(a.handleEvent,a);else throw Error("Invalid listener argument");Wb.setTimeout(a,0)}var a=this.R,c=Jd,d,e;a.od.Pa=c;a.od.Jd=1;a.od.Id=0<c?1/c:0;a.xe=0;a.Ob.Od=p;for(b=a.ed;b;){for(var f=
b,b=b.q,g=f.X;g;){var h=g,g=g.next;d=a;h=h.Kb;e=h.sa;h.D&&(h.D.q=h.q);h.q&&(h.q.D=h.D);h==d.X&&(d.X=h.q);var j=h.h,i=h.g;nc(j);nc(i);h.p.prev&&(h.p.prev.next=h.p.next);h.p.next&&(h.p.next.prev=h.p.prev);h.p==j.X&&(j.X=h.p.next);h.p.prev=q;h.p.next=q;h.r.prev&&(h.r.prev.next=h.r.next);h.r.next&&(h.r.next.prev=h.r.prev);h.r==i.X&&(i.X=h.r.next);h.r.prev=q;h.r.next=q;--d.eb;if(e==r)for(h=(j.Wb<i.Wb?j:i).zb;h;h=h.q)h.Tc(d.Ra)}for(g=f.W;g;)d=g,g=g.next,Nc(a.Ob,d.ra);for(f=f.zb;f;)g=f,f=f.q,65535!=g.ea&&
g.z.R.Ra.Zb(g.ea)}a.ed=q;a.Ob.Od=r;b=a.Ob;for(f=b.R.W;f!=q;)g=f,f=f.q,g.o&2&&Nc(b,g);for(b=a.Ob.R.W;b!=q;b=b.q)if((b.P.z.o&Y)!=Y||(b.Q.z.o&Y)!=Y)f=b.Ka,b.uc(),g=b.Ka,0==f&&0<g?(f=b.P.z,g=b.Q.z,d=b.p,h=b.r,d.ra=b,d.ma=g,d.prev=q,d.next=f.W,d.next!=q&&(d.next.prev=b.p),f.W=b.p,h.ra=b,h.ma=f,h.prev=q,h.next=g.W,h.next!=q&&(h.next.prev=h),g.W=h):0<f&&0==g&&(f=b.P.z,g=b.Q.z,d=b.p,h=b.r,d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),d==f.W&&(f.W=d.next),d.prev=q,d.next=q,h.prev&&(h.prev.next=
h.next),h.next&&(h.next.prev=h.prev),h==g.W&&(g.W=h.next),h.prev=q,h.next=q);b=new Sc(a.Ja,a.Nb,a.eb);for(d=a.kb;d!=q;d=d.q)d.o&=-5;for(f=a.W;f!=q;f=f.q)f.o&=-2;for(f=a.X;f!=q;f=f.q)f.ob=r;f=Array(a.Ja);for(g=0;g<a.Ja;g++)f[g]=q;for(g=a.kb;g!=q;g=g.q)if(!(g.o&(lc|4|Y|oc))){d=b;d.Ja=0;d.Nb=0;h=d.eb=0;f[h++]=g;for(g.o|=4;0<h;)if(e=d=f[--h],b.jb[b.Ja++]=e,d.o&=~Y,!(d.o&lc)){for(j=d.W;j!=q;j=j.next)j.ra.o&1||(e=j.ra,b.Nd[b.Nb++]=e,j.ra.o|=1,e=j.ma,e.o&4||(f[h++]=e,e.o|=4));for(d=d.X;d!=q;d=d.next)d.Kb.ob!=
p&&(e=d.Kb,b.Gc[b.eb++]=e,d.Kb.ob=p,e=d.ma,e.o&4||(f[h++]=e,e.o|=4))}b.wd(a.od,a.ef);a.xe=Math.max(a.xe,Uc);if(a.cf){d=a;h=b;e=c;for(var j=0,i=m,k=Number.MAX_VALUE,l=La*La,j=0;j<h.Ja;++j)i=h.jb[j],0!=i.j&&(0==(i.o&mc)&&(k=i.nc=0),0==(i.o&mc)||i.f*i.f>l||0.09<xa(i.d,i.d)?k=i.nc=0:(i.nc+=e,k=Math.min(k,i.nc)));if(0.5<=k){for(j=0;j<h.Ja;++j)i=h.jb[j],i.o|=Y;h=p}else h=r;d.Pc=h}for(h=0;h<b.Ja;++h)d=b.jb[h],d.o&lc&&(d.o&=-5),(d.o&oc)==oc&&a.re&&1==a.re.pf(d)&&(e=a,d.o&32||(d.D&&(d.D.q=d.q),d.q&&(d.q.D=
d.D),d==e.kb&&(e.kb=d.q),d.o|=32,--e.Ja,d.D=q,d.q=e.ed,e.ed=d),b.jb[h]=q)}a.Ra.tc();if(!this.R.Pc){c=this.R;a=this.Md;a.clearRect(0,0,a.canvas.width,a.canvas.height);for(b=c.X;b;b=b.q){f=c;g=b;d=a;h=g.h;e=g.g;j=h.c;i=e.c;k=g.Cb();l=g.Db();d.beginPath();switch(g.Na){case 3:d.moveTo(k.x,k.y);d.lineTo(l.x,l.y);break;case 4:break;default:h==f.ic?(d.moveTo(k.x,k.y),d.lineTo(i.x,i.y)):e==f.ic?(d.moveTo(k.x,k.y),d.lineTo(j.x,j.y)):(d.moveTo(j.x,j.y),d.lineTo(k.x,k.y),d.lineTo(i.x,i.y),d.lineTo(l.x,l.y))}d.stroke()}for(c=
c.kb;c;c=c.q)for(b=c.zb;b!=q;b=b.ac()){f=b;g=a;g.beginPath();switch(f.Na){case 0:d=f.c;h=f.ga;g.arc(f.c.x,f.c.y,f.ga,0,2*Math.PI,r);g.moveTo(d.x,d.y);e=f.e.a;d=new F(d.x+h*e.x,d.y+h*e.y);g.lineTo(d.x,d.y);break;case 2:d=za(f.c,T(f.e,f.u[0]));g.moveTo(d.x,d.y);for(h=0;h<f.Oa;h++)e=za(f.c,T(f.e,f.u[h])),g.lineTo(e.x,e.y);g.lineTo(d.x,d.y)}g.stroke();"filled"==f.qb&&g.fill()}}this.dispatchEvent(new Kd(this.pe.Vc,this.R.Pc))};
function Dd(a,c,b,d){var e=new Ha;e.Ia=1;e.rb=d||20;e.Ab=0.8;e.ec=0.9;d=new L;N(d,e);d.position.i(c,b);return O(a,d)}function Oa(a,c,b,d,e,f,g){"undefined"==typeof f&&(f=p);"undefined"==typeof g&&(g=r);var h=new Qa;f||(h.Ia=1);g&&(h.N="filled");h.S.i(d,e);d=new L;N(d,h);d.position.i(c,b);return O(a,d)}var Jd=1/60;function Kd(a,c){Q.call(this,"Demo.FrameEventType");this.Vc=0.5+a<<0;this.Pc=c}y(Kd,Q);function Ld(a){var c="_gaq"in w?w._gaq:q;if(!c){var b=c=[];if("_gaq"in w)throw Error('The object already contains the key "_gaq"');w._gaq=b}c.push(a)}
function Md(){var a=document.createElement("script");a.type="text/javascript";a.async=p;a.src="http://www.google-analytics.com/ga.js";var c=document.getElementsByTagName("head");if(1!=c.length)throw Error("Couldn't find a single head tag.");var c=c[0],b=c.getElementsByTagName("script");0==b.length?c.appendChild(a):(c=b[0],c.parentNode&&c.parentNode.insertBefore(a,c))};$(document).ready(function(){Md();Ld(["_setAccount","UA-13190322-6"]);Ld(["_trackPageview"]);var a=$("canvas")[0];a.zf=ca(r);var c=new Gd(a.getContext("2d"));$("#fps_limit").click(function(){Id(c,$("#fps_limit").attr("checked"))});$("#fps_limit").attr("checked",Id(c));$("#previous").click(function(){Hd(c,-1)});$("#reload").click(function(){Hd(c,0)});$("#next").click(function(){Hd(c,1)});var b=1;c.addEventListener("Demo.FrameEventType",function(a){0===b&&($("#fps").html(a.Vc+"fps"),a.Pc?$("#fps").addClass("sleeping"):
$("#fps").removeClass("sleeping"));b++;b%=30})});
